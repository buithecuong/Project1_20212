ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"MQTTSim800.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.clearRxBuffer,"ax",%progbits
  18              		.align	1
  19              		.global	clearRxBuffer
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	clearRxBuffer:
  25              	.LFB73:
  26              		.file 1 "Core/Src/MQTTSim800.c"
   1:Core/Src/MQTTSim800.c **** /*
   2:Core/Src/MQTTSim800.c ****  * MQTTSim800.c
   3:Core/Src/MQTTSim800.c ****  *
   4:Core/Src/MQTTSim800.c ****  *  Created on: Jan 4, 2020
   5:Core/Src/MQTTSim800.c ****  *      Author: Bulanov Konstantin
   6:Core/Src/MQTTSim800.c ****  *
   7:Core/Src/MQTTSim800.c ****  *  Contact information
   8:Core/Src/MQTTSim800.c ****  *  -------------------
   9:Core/Src/MQTTSim800.c ****  *
  10:Core/Src/MQTTSim800.c ****  * e-mail   :   leech001@gmail.com
  11:Core/Src/MQTTSim800.c ****  * telegram :   https://t.me/leech001
  12:Core/Src/MQTTSim800.c ****  *
  13:Core/Src/MQTTSim800.c ****  */
  14:Core/Src/MQTTSim800.c **** 
  15:Core/Src/MQTTSim800.c **** /*
  16:Core/Src/MQTTSim800.c ****  * ------------------------------------------------------------------------------------------------
  17:Core/Src/MQTTSim800.c ****            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE
  18:Core/Src/MQTTSim800.c ****                     Version 2, December 2004
  19:Core/Src/MQTTSim800.c **** 
  20:Core/Src/MQTTSim800.c ****  Copyright (C) 2020 Bulanov Konstantin <leech001@gmail.com>
  21:Core/Src/MQTTSim800.c **** 
  22:Core/Src/MQTTSim800.c ****  Everyone is permitted to copy and distribute verbatim or modified
  23:Core/Src/MQTTSim800.c ****  copies of this license document, and changing it is allowed as long
  24:Core/Src/MQTTSim800.c ****  as the name is changed.
  25:Core/Src/MQTTSim800.c **** 
  26:Core/Src/MQTTSim800.c ****             DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE
  27:Core/Src/MQTTSim800.c ****    TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
  28:Core/Src/MQTTSim800.c **** 
  29:Core/Src/MQTTSim800.c ****   0. You just DO WHAT THE FUCK YOU WANT TO.
  30:Core/Src/MQTTSim800.c **** 
  31:Core/Src/MQTTSim800.c ****   MQTT packet https://github.com/eclipse/paho.mqtt.embedded-c/tree/master/MQTTPacket
  32:Core/Src/MQTTSim800.c ****  * ------------------------------------------------------------------------------------------------
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 2


  33:Core/Src/MQTTSim800.c **** */
  34:Core/Src/MQTTSim800.c **** 
  35:Core/Src/MQTTSim800.c **** #include "MQTTSim800.h"
  36:Core/Src/MQTTSim800.c **** #include "main.h"
  37:Core/Src/MQTTSim800.c **** #include "usart.h"
  38:Core/Src/MQTTSim800.c **** #include <string.h>
  39:Core/Src/MQTTSim800.c **** #include "MQTTPacket.h"
  40:Core/Src/MQTTSim800.c **** 
  41:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
  42:Core/Src/MQTTSim800.c **** #include <cmsis_os.h>
  43:Core/Src/MQTTSim800.c **** #endif
  44:Core/Src/MQTTSim800.c **** 
  45:Core/Src/MQTTSim800.c **** extern SIM800_t SIM800;
  46:Core/Src/MQTTSim800.c **** 
  47:Core/Src/MQTTSim800.c **** uint8_t rx_data = 0;
  48:Core/Src/MQTTSim800.c **** uint8_t rx_buffer[1460] = {0};
  49:Core/Src/MQTTSim800.c **** uint16_t rx_index = 0;
  50:Core/Src/MQTTSim800.c **** 
  51:Core/Src/MQTTSim800.c **** uint8_t mqtt_receive = 0;
  52:Core/Src/MQTTSim800.c **** char mqtt_buffer[1460] = {0};
  53:Core/Src/MQTTSim800.c **** uint16_t mqtt_index = 0;
  54:Core/Src/MQTTSim800.c **** 
  55:Core/Src/MQTTSim800.c **** /**
  56:Core/Src/MQTTSim800.c ****  * Call back function for release read SIM800 UART buffer.
  57:Core/Src/MQTTSim800.c ****  * @param NONE
  58:Core/Src/MQTTSim800.c ****  * @return NONE
  59:Core/Src/MQTTSim800.c ****  */
  60:Core/Src/MQTTSim800.c **** void Sim800_RxCallBack(void)
  61:Core/Src/MQTTSim800.c **** {
  62:Core/Src/MQTTSim800.c ****     rx_buffer[rx_index++] = rx_data;
  63:Core/Src/MQTTSim800.c **** 
  64:Core/Src/MQTTSim800.c ****     if (SIM800.mqttServer.connect == 0)
  65:Core/Src/MQTTSim800.c ****     {
  66:Core/Src/MQTTSim800.c ****         if (strstr((char *)rx_buffer, "\r\n") != NULL && rx_index == 2)
  67:Core/Src/MQTTSim800.c ****         {
  68:Core/Src/MQTTSim800.c ****             rx_index = 0;
  69:Core/Src/MQTTSim800.c ****         }
  70:Core/Src/MQTTSim800.c ****         else if (strstr((char *)rx_buffer, "\r\n") != NULL)
  71:Core/Src/MQTTSim800.c ****         {
  72:Core/Src/MQTTSim800.c ****             memcpy(mqtt_buffer, rx_buffer, sizeof(rx_buffer));
  73:Core/Src/MQTTSim800.c ****             clearRxBuffer();
  74:Core/Src/MQTTSim800.c ****             if (strstr(mqtt_buffer, "DY CONNECT\r\n"))
  75:Core/Src/MQTTSim800.c ****             {
  76:Core/Src/MQTTSim800.c ****                 SIM800.mqttServer.connect = 0;
  77:Core/Src/MQTTSim800.c ****             }
  78:Core/Src/MQTTSim800.c ****             else if (strstr(mqtt_buffer, "CONNECT\r\n"))
  79:Core/Src/MQTTSim800.c ****             {
  80:Core/Src/MQTTSim800.c ****                 SIM800.mqttServer.connect = 1;
  81:Core/Src/MQTTSim800.c ****             }
  82:Core/Src/MQTTSim800.c ****         }
  83:Core/Src/MQTTSim800.c ****         // Them phan gui tin nhan
  84:Core/Src/MQTTSim800.c ****         else if (strstr((char *)rx_buffer, ">") != NULL)
  85:Core/Src/MQTTSim800.c ****         {
  86:Core/Src/MQTTSim800.c ****             SIM800.sms = 1;
  87:Core/Src/MQTTSim800.c ****         }
  88:Core/Src/MQTTSim800.c ****     }
  89:Core/Src/MQTTSim800.c ****     if (strstr((char *)rx_buffer, "CLOSED\r\n") || strstr((char *)rx_buffer, "ERROR\r\n") || strstr
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 3


  90:Core/Src/MQTTSim800.c ****     {
  91:Core/Src/MQTTSim800.c ****         SIM800.mqttServer.connect = 0;
  92:Core/Src/MQTTSim800.c ****     }
  93:Core/Src/MQTTSim800.c ****     if (SIM800.mqttServer.connect == 1 && rx_data == 48)
  94:Core/Src/MQTTSim800.c ****     {
  95:Core/Src/MQTTSim800.c ****         mqtt_receive = 1;
  96:Core/Src/MQTTSim800.c ****     }
  97:Core/Src/MQTTSim800.c ****     if (mqtt_receive == 1)
  98:Core/Src/MQTTSim800.c ****     {
  99:Core/Src/MQTTSim800.c ****         mqtt_buffer[mqtt_index++] = rx_data;
 100:Core/Src/MQTTSim800.c ****         if (mqtt_index > 1 && mqtt_index - 1 > mqtt_buffer[1])
 101:Core/Src/MQTTSim800.c ****         {
 102:Core/Src/MQTTSim800.c ****             MQTT_Receive((unsigned char *)mqtt_buffer);
 103:Core/Src/MQTTSim800.c ****             clearRxBuffer();
 104:Core/Src/MQTTSim800.c ****             clearMqttBuffer();
 105:Core/Src/MQTTSim800.c ****         }
 106:Core/Src/MQTTSim800.c ****         if (mqtt_index >= sizeof(mqtt_buffer))
 107:Core/Src/MQTTSim800.c ****         {
 108:Core/Src/MQTTSim800.c ****             clearMqttBuffer();
 109:Core/Src/MQTTSim800.c ****         }
 110:Core/Src/MQTTSim800.c ****     }
 111:Core/Src/MQTTSim800.c ****     if (rx_index >= sizeof(mqtt_buffer))
 112:Core/Src/MQTTSim800.c ****     {
 113:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 114:Core/Src/MQTTSim800.c ****         clearMqttBuffer();
 115:Core/Src/MQTTSim800.c ****     }
 116:Core/Src/MQTTSim800.c ****     HAL_UART_Receive_IT(UART_SIM800, &rx_data, 1);
 117:Core/Src/MQTTSim800.c **** }
 118:Core/Src/MQTTSim800.c **** 
 119:Core/Src/MQTTSim800.c **** /**
 120:Core/Src/MQTTSim800.c ****  * Clear SIM800 UART RX buffer.
 121:Core/Src/MQTTSim800.c ****  * @param NONE
 122:Core/Src/MQTTSim800.c ****  * @return NONE
 123:Core/Src/MQTTSim800.c ****  */
 124:Core/Src/MQTTSim800.c **** void clearRxBuffer(void)
 125:Core/Src/MQTTSim800.c **** {
  27              		.loc 1 125 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 08B5     		push	{r3, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 3, -8
  35              		.cfi_offset 14, -4
 126:Core/Src/MQTTSim800.c ****     rx_index = 0;
  36              		.loc 1 126 5 view .LVU1
  37              		.loc 1 126 14 is_stmt 0 view .LVU2
  38 0002 0021     		movs	r1, #0
  39 0004 034B     		ldr	r3, .L3
  40 0006 1980     		strh	r1, [r3]	@ movhi
 127:Core/Src/MQTTSim800.c ****     memset(rx_buffer, 0, sizeof(rx_buffer));
  41              		.loc 1 127 5 is_stmt 1 view .LVU3
  42 0008 40F2B452 		movw	r2, #1460
  43 000c 0248     		ldr	r0, .L3+4
  44 000e FFF7FEFF 		bl	memset
  45              	.LVL0:
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 4


 128:Core/Src/MQTTSim800.c **** }
  46              		.loc 1 128 1 is_stmt 0 view .LVU4
  47 0012 08BD     		pop	{r3, pc}
  48              	.L4:
  49              		.align	2
  50              	.L3:
  51 0014 00000000 		.word	.LANCHOR0
  52 0018 00000000 		.word	.LANCHOR1
  53              		.cfi_endproc
  54              	.LFE73:
  56              		.section	.text.clearMqttBuffer,"ax",%progbits
  57              		.align	1
  58              		.global	clearMqttBuffer
  59              		.syntax unified
  60              		.thumb
  61              		.thumb_func
  63              	clearMqttBuffer:
  64              	.LFB74:
 129:Core/Src/MQTTSim800.c **** 
 130:Core/Src/MQTTSim800.c **** /**
 131:Core/Src/MQTTSim800.c ****  * Clear MQTT buffer.
 132:Core/Src/MQTTSim800.c ****  * @param NONE
 133:Core/Src/MQTTSim800.c ****  * @return NONE
 134:Core/Src/MQTTSim800.c ****  */
 135:Core/Src/MQTTSim800.c **** void clearMqttBuffer(void)
 136:Core/Src/MQTTSim800.c **** {
  65              		.loc 1 136 1 is_stmt 1 view -0
  66              		.cfi_startproc
  67              		@ args = 0, pretend = 0, frame = 0
  68              		@ frame_needed = 0, uses_anonymous_args = 0
  69 0000 08B5     		push	{r3, lr}
  70              	.LCFI1:
  71              		.cfi_def_cfa_offset 8
  72              		.cfi_offset 3, -8
  73              		.cfi_offset 14, -4
 137:Core/Src/MQTTSim800.c ****     mqtt_receive = 0;
  74              		.loc 1 137 5 view .LVU6
  75              		.loc 1 137 18 is_stmt 0 view .LVU7
  76 0002 0021     		movs	r1, #0
  77 0004 044B     		ldr	r3, .L7
  78 0006 1970     		strb	r1, [r3]
 138:Core/Src/MQTTSim800.c ****     mqtt_index = 0;
  79              		.loc 1 138 5 is_stmt 1 view .LVU8
  80              		.loc 1 138 16 is_stmt 0 view .LVU9
  81 0008 044B     		ldr	r3, .L7+4
  82 000a 1980     		strh	r1, [r3]	@ movhi
 139:Core/Src/MQTTSim800.c ****     memset(mqtt_buffer, 0, sizeof(mqtt_buffer));
  83              		.loc 1 139 5 is_stmt 1 view .LVU10
  84 000c 40F2B452 		movw	r2, #1460
  85 0010 0348     		ldr	r0, .L7+8
  86 0012 FFF7FEFF 		bl	memset
  87              	.LVL1:
 140:Core/Src/MQTTSim800.c **** }
  88              		.loc 1 140 1 is_stmt 0 view .LVU11
  89 0016 08BD     		pop	{r3, pc}
  90              	.L8:
  91              		.align	2
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 5


  92              	.L7:
  93 0018 00000000 		.word	.LANCHOR2
  94 001c 00000000 		.word	.LANCHOR3
  95 0020 00000000 		.word	.LANCHOR4
  96              		.cfi_endproc
  97              	.LFE74:
  99              		.section	.text.SIM800_SendCommand,"ax",%progbits
 100              		.align	1
 101              		.global	SIM800_SendCommand
 102              		.syntax unified
 103              		.thumb
 104              		.thumb_func
 106              	SIM800_SendCommand:
 107              	.LVL2:
 108              	.LFB75:
 141:Core/Src/MQTTSim800.c **** 
 142:Core/Src/MQTTSim800.c **** /**
 143:Core/Src/MQTTSim800.c ****  * Send AT command to SIM800 over UART.
 144:Core/Src/MQTTSim800.c ****  * @param command the command to be used the send AT command
 145:Core/Src/MQTTSim800.c ****  * @param reply to be used to set the correct answer to the command
 146:Core/Src/MQTTSim800.c ****  * @param delay to be used to the set pause to the reply
 147:Core/Src/MQTTSim800.c ****  * @return error, 0 is OK
 148:Core/Src/MQTTSim800.c ****  */
 149:Core/Src/MQTTSim800.c **** int SIM800_SendCommand(char *command, char *reply, uint16_t delay)
 150:Core/Src/MQTTSim800.c **** {
 109              		.loc 1 150 1 is_stmt 1 view -0
 110              		.cfi_startproc
 111              		@ args = 0, pretend = 0, frame = 0
 112              		@ frame_needed = 0, uses_anonymous_args = 0
 113              		.loc 1 150 1 is_stmt 0 view .LVU13
 114 0000 70B5     		push	{r4, r5, r6, lr}
 115              	.LCFI2:
 116              		.cfi_def_cfa_offset 16
 117              		.cfi_offset 4, -16
 118              		.cfi_offset 5, -12
 119              		.cfi_offset 6, -8
 120              		.cfi_offset 14, -4
 121 0002 0646     		mov	r6, r0
 122 0004 0C46     		mov	r4, r1
 123 0006 1546     		mov	r5, r2
 151:Core/Src/MQTTSim800.c ****     HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)command,
 124              		.loc 1 151 5 is_stmt 1 view .LVU14
 152:Core/Src/MQTTSim800.c ****                          (uint16_t)strlen(command));
 125              		.loc 1 152 36 is_stmt 0 view .LVU15
 126 0008 FFF7FEFF 		bl	strlen
 127              	.LVL3:
 151:Core/Src/MQTTSim800.c ****     HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)command,
 128              		.loc 1 151 5 view .LVU16
 129 000c 82B2     		uxth	r2, r0
 130 000e 3146     		mov	r1, r6
 131 0010 0948     		ldr	r0, .L13
 132 0012 FFF7FEFF 		bl	HAL_UART_Transmit_IT
 133              	.LVL4:
 153:Core/Src/MQTTSim800.c **** 
 154:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
 155:Core/Src/MQTTSim800.c ****     osDelay(delay);
 134              		.loc 1 155 5 is_stmt 1 view .LVU17
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 6


 135 0016 2846     		mov	r0, r5
 136 0018 FFF7FEFF 		bl	osDelay
 137              	.LVL5:
 156:Core/Src/MQTTSim800.c **** #else
 157:Core/Src/MQTTSim800.c ****     HAL_Delay(delay);
 158:Core/Src/MQTTSim800.c **** #endif
 159:Core/Src/MQTTSim800.c **** 
 160:Core/Src/MQTTSim800.c ****     if (strstr(mqtt_buffer, reply) != NULL)
 138              		.loc 1 160 5 view .LVU18
 139              		.loc 1 160 9 is_stmt 0 view .LVU19
 140 001c 2146     		mov	r1, r4
 141 001e 0748     		ldr	r0, .L13+4
 142 0020 FFF7FEFF 		bl	strstr
 143              	.LVL6:
 144              		.loc 1 160 8 view .LVU20
 145 0024 18B1     		cbz	r0, .L10
 161:Core/Src/MQTTSim800.c ****     {
 162:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 146              		.loc 1 162 9 is_stmt 1 view .LVU21
 147 0026 FFF7FEFF 		bl	clearRxBuffer
 148              	.LVL7:
 163:Core/Src/MQTTSim800.c ****         return 0;
 149              		.loc 1 163 9 view .LVU22
 150              		.loc 1 163 16 is_stmt 0 view .LVU23
 151 002a 0020     		movs	r0, #0
 152              	.L9:
 164:Core/Src/MQTTSim800.c ****     }
 165:Core/Src/MQTTSim800.c ****     clearRxBuffer();
 166:Core/Src/MQTTSim800.c ****     return 1;
 167:Core/Src/MQTTSim800.c **** }
 153              		.loc 1 167 1 view .LVU24
 154 002c 70BD     		pop	{r4, r5, r6, pc}
 155              	.LVL8:
 156              	.L10:
 165:Core/Src/MQTTSim800.c ****     return 1;
 157              		.loc 1 165 5 is_stmt 1 view .LVU25
 158 002e FFF7FEFF 		bl	clearRxBuffer
 159              	.LVL9:
 166:Core/Src/MQTTSim800.c **** }
 160              		.loc 1 166 5 view .LVU26
 166:Core/Src/MQTTSim800.c **** }
 161              		.loc 1 166 12 is_stmt 0 view .LVU27
 162 0032 0120     		movs	r0, #1
 163 0034 FAE7     		b	.L9
 164              	.L14:
 165 0036 00BF     		.align	2
 166              	.L13:
 167 0038 00000000 		.word	huart2
 168 003c 00000000 		.word	.LANCHOR4
 169              		.cfi_endproc
 170              	.LFE75:
 172              		.section	.rodata.MQTT_Connect.str1.4,"aMS",%progbits,1
 173              		.align	2
 174              	.LC1:
 175 0000 41542B43 		.ascii	"AT+CIPSTART=\"TCP\",\"%s\",%d\015\012\000"
 175      49505354 
 175      4152543D 
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 7


 175      22544350 
 175      222C2225 
 176              		.align	2
 177              	.LC2:
 178 001c 4F4B0D0A 		.ascii	"OK\015\012\000"
 178      00
 179              		.section	.text.MQTT_Connect,"ax",%progbits
 180              		.align	1
 181              		.global	MQTT_Connect
 182              		.syntax unified
 183              		.thumb
 184              		.thumb_func
 186              	MQTT_Connect:
 187              	.LFB77:
 168:Core/Src/MQTTSim800.c **** 
 169:Core/Src/MQTTSim800.c **** /**
 170:Core/Src/MQTTSim800.c ****  * initialization SIM800.
 171:Core/Src/MQTTSim800.c ****  * @param NONE
 172:Core/Src/MQTTSim800.c ****  * @return error status, 0 - OK
 173:Core/Src/MQTTSim800.c ****  */
 174:Core/Src/MQTTSim800.c **** int MQTT_Init(void)
 175:Core/Src/MQTTSim800.c **** {
 176:Core/Src/MQTTSim800.c ****     SIM800.mqttServer.connect = 0;
 177:Core/Src/MQTTSim800.c ****     int error = 0;
 178:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 179:Core/Src/MQTTSim800.c ****     HAL_UART_Receive_IT(UART_SIM800, &rx_data, 1);
 180:Core/Src/MQTTSim800.c **** 
 181:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT\r\n", "OK\r\n", CMD_DELAY);
 182:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("ATE0\r\n", "OK\r\n", CMD_DELAY);
 183:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPSHUT\r\n", "SHUT OK\r\n", CMD_DELAY);
 184:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CGATT=1\r\n", "OK\r\n", CMD_DELAY);
 185:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPMODE=1\r\n", "OK\r\n", CMD_DELAY);
 186:Core/Src/MQTTSim800.c **** 
 187:Core/Src/MQTTSim800.c ****     snprintf(str, sizeof(str), "AT+CSTT=\"%s\",\"%s\",\"%s\"\r\n", SIM800.sim.apn, SIM800.sim.apn_u
 188:Core/Src/MQTTSim800.c ****              SIM800.sim.apn_pass);
 189:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand(str, "OK\r\n", CMD_DELAY);
 190:Core/Src/MQTTSim800.c **** 
 191:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIICR\r\n", "OK\r\n", CMD_DELAY);
 192:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIFSR\r\n", "", CMD_DELAY);
 193:Core/Src/MQTTSim800.c ****     if (error == 0)
 194:Core/Src/MQTTSim800.c ****     {
 195:Core/Src/MQTTSim800.c ****         MQTT_Connect();
 196:Core/Src/MQTTSim800.c ****         return error;
 197:Core/Src/MQTTSim800.c ****     }
 198:Core/Src/MQTTSim800.c ****     else
 199:Core/Src/MQTTSim800.c ****     {
 200:Core/Src/MQTTSim800.c ****         return error;
 201:Core/Src/MQTTSim800.c ****     }
 202:Core/Src/MQTTSim800.c **** }
 203:Core/Src/MQTTSim800.c **** 
 204:Core/Src/MQTTSim800.c **** /**
 205:Core/Src/MQTTSim800.c ****  * Connect to MQTT server in Internet over TCP.
 206:Core/Src/MQTTSim800.c ****  * @param NONE
 207:Core/Src/MQTTSim800.c ****  * @return NONE
 208:Core/Src/MQTTSim800.c ****  */
 209:Core/Src/MQTTSim800.c **** void MQTT_Connect(void)
 210:Core/Src/MQTTSim800.c **** {
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 8


 188              		.loc 1 210 1 is_stmt 1 view -0
 189              		.cfi_startproc
 190              		@ args = 0, pretend = 0, frame = 344
 191              		@ frame_needed = 0, uses_anonymous_args = 0
 192 0000 70B5     		push	{r4, r5, r6, lr}
 193              	.LCFI3:
 194              		.cfi_def_cfa_offset 16
 195              		.cfi_offset 4, -16
 196              		.cfi_offset 5, -12
 197              		.cfi_offset 6, -8
 198              		.cfi_offset 14, -4
 199 0002 D6B0     		sub	sp, sp, #344
 200              	.LCFI4:
 201              		.cfi_def_cfa_offset 360
 211:Core/Src/MQTTSim800.c ****     SIM800.mqttReceive.newEvent = 0;
 202              		.loc 1 211 5 view .LVU29
 203              		.loc 1 211 33 is_stmt 0 view .LVU30
 204 0004 214D     		ldr	r5, .L19
 205 0006 0024     		movs	r4, #0
 206 0008 85F82440 		strb	r4, [r5, #36]
 212:Core/Src/MQTTSim800.c ****     SIM800.mqttServer.connect = 0;
 207              		.loc 1 212 5 is_stmt 1 view .LVU31
 208              		.loc 1 212 31 is_stmt 0 view .LVU32
 209 000c AC74     		strb	r4, [r5, #18]
 213:Core/Src/MQTTSim800.c ****     char str[128] = {0};
 210              		.loc 1 213 5 is_stmt 1 view .LVU33
 211              		.loc 1 213 10 is_stmt 0 view .LVU34
 212 000e 3694     		str	r4, [sp, #216]
 213 0010 7C26     		movs	r6, #124
 214 0012 3246     		mov	r2, r6
 215 0014 2146     		mov	r1, r4
 216 0016 37A8     		add	r0, sp, #220
 217 0018 FFF7FEFF 		bl	memset
 218              	.LVL10:
 214:Core/Src/MQTTSim800.c ****     unsigned char buf[128] = {0};
 219              		.loc 1 214 5 is_stmt 1 view .LVU35
 220              		.loc 1 214 19 is_stmt 0 view .LVU36
 221 001c 1694     		str	r4, [sp, #88]
 222 001e 3246     		mov	r2, r6
 223 0020 2146     		mov	r1, r4
 224 0022 17A8     		add	r0, sp, #92
 225 0024 FFF7FEFF 		bl	memset
 226              	.LVL11:
 215:Core/Src/MQTTSim800.c ****     sprintf(str, "AT+CIPSTART=\"TCP\",\"%s\",%d\r\n", SIM800.mqttServer.host, SIM800.mqttServer.por
 227              		.loc 1 215 5 is_stmt 1 view .LVU37
 228 0028 2B8A     		ldrh	r3, [r5, #16]
 229 002a EA68     		ldr	r2, [r5, #12]
 230 002c 1849     		ldr	r1, .L19+4
 231 002e 36A8     		add	r0, sp, #216
 232 0030 FFF7FEFF 		bl	sprintf
 233              	.LVL12:
 216:Core/Src/MQTTSim800.c ****     SIM800_SendCommand(str, "OK\r\n", CMD_DELAY);
 234              		.loc 1 216 5 view .LVU38
 235 0034 4FF4FA62 		mov	r2, #2000
 236 0038 1649     		ldr	r1, .L19+8
 237 003a 36A8     		add	r0, sp, #216
 238 003c FFF7FEFF 		bl	SIM800_SendCommand
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 9


 239              	.LVL13:
 217:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
 218:Core/Src/MQTTSim800.c ****     osDelay(5000);
 240              		.loc 1 218 5 view .LVU39
 241 0040 41F28830 		movw	r0, #5000
 242 0044 FFF7FEFF 		bl	osDelay
 243              	.LVL14:
 219:Core/Src/MQTTSim800.c **** #else
 220:Core/Src/MQTTSim800.c ****     HAL_Delay(5000);
 221:Core/Src/MQTTSim800.c **** #endif
 222:Core/Src/MQTTSim800.c ****     if (SIM800.mqttServer.connect == 1)
 244              		.loc 1 222 5 view .LVU40
 245              		.loc 1 222 26 is_stmt 0 view .LVU41
 246 0048 AB7C     		ldrb	r3, [r5, #18]	@ zero_extendqisi2
 247              		.loc 1 222 8 view .LVU42
 248 004a 012B     		cmp	r3, #1
 249 004c 01D0     		beq	.L18
 250              	.L15:
 223:Core/Src/MQTTSim800.c ****     {
 224:Core/Src/MQTTSim800.c ****         MQTTPacket_connectData datas = MQTTPacket_connectData_initializer;
 225:Core/Src/MQTTSim800.c ****         datas.username.cstring = SIM800.mqttClient.username;
 226:Core/Src/MQTTSim800.c ****         datas.password.cstring = SIM800.mqttClient.pass;
 227:Core/Src/MQTTSim800.c ****         datas.clientID.cstring = SIM800.mqttClient.clientID;
 228:Core/Src/MQTTSim800.c ****         datas.keepAliveInterval = SIM800.mqttClient.keepAliveInterval;
 229:Core/Src/MQTTSim800.c ****         datas.cleansession = 1;
 230:Core/Src/MQTTSim800.c ****         int mqtt_len = MQTTSerialize_connect(buf, sizeof(buf), &datas);
 231:Core/Src/MQTTSim800.c ****         HAL_UART_Transmit_IT(UART_SIM800, buf, mqtt_len);
 232:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
 233:Core/Src/MQTTSim800.c ****         osDelay(5000);
 234:Core/Src/MQTTSim800.c **** #else
 235:Core/Src/MQTTSim800.c ****         HAL_Delay(5000);
 236:Core/Src/MQTTSim800.c **** #endif
 237:Core/Src/MQTTSim800.c ****     }
 238:Core/Src/MQTTSim800.c **** }
 251              		.loc 1 238 1 view .LVU43
 252 004e 56B0     		add	sp, sp, #344
 253              	.LCFI5:
 254              		.cfi_remember_state
 255              		.cfi_def_cfa_offset 16
 256              		@ sp needed
 257 0050 70BD     		pop	{r4, r5, r6, pc}
 258              	.L18:
 259              	.LCFI6:
 260              		.cfi_restore_state
 261              	.LBB2:
 224:Core/Src/MQTTSim800.c ****         datas.username.cstring = SIM800.mqttClient.username;
 262              		.loc 1 224 9 is_stmt 1 view .LVU44
 224:Core/Src/MQTTSim800.c ****         datas.username.cstring = SIM800.mqttClient.username;
 263              		.loc 1 224 32 is_stmt 0 view .LVU45
 264 0052 5822     		movs	r2, #88
 265 0054 1049     		ldr	r1, .L19+12
 266 0056 6846     		mov	r0, sp
 267 0058 FFF7FEFF 		bl	memcpy
 268              	.LVL15:
 225:Core/Src/MQTTSim800.c ****         datas.password.cstring = SIM800.mqttClient.pass;
 269              		.loc 1 225 9 is_stmt 1 view .LVU46
 225:Core/Src/MQTTSim800.c ****         datas.password.cstring = SIM800.mqttClient.pass;
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 10


 270              		.loc 1 225 51 is_stmt 0 view .LVU47
 271 005c 6A69     		ldr	r2, [r5, #20]
 225:Core/Src/MQTTSim800.c ****         datas.password.cstring = SIM800.mqttClient.pass;
 272              		.loc 1 225 32 view .LVU48
 273 005e 1092     		str	r2, [sp, #64]
 226:Core/Src/MQTTSim800.c ****         datas.clientID.cstring = SIM800.mqttClient.clientID;
 274              		.loc 1 226 9 is_stmt 1 view .LVU49
 226:Core/Src/MQTTSim800.c ****         datas.clientID.cstring = SIM800.mqttClient.clientID;
 275              		.loc 1 226 51 is_stmt 0 view .LVU50
 276 0060 AA69     		ldr	r2, [r5, #24]
 226:Core/Src/MQTTSim800.c ****         datas.clientID.cstring = SIM800.mqttClient.clientID;
 277              		.loc 1 226 32 view .LVU51
 278 0062 1392     		str	r2, [sp, #76]
 227:Core/Src/MQTTSim800.c ****         datas.keepAliveInterval = SIM800.mqttClient.keepAliveInterval;
 279              		.loc 1 227 9 is_stmt 1 view .LVU52
 227:Core/Src/MQTTSim800.c ****         datas.keepAliveInterval = SIM800.mqttClient.keepAliveInterval;
 280              		.loc 1 227 51 is_stmt 0 view .LVU53
 281 0064 EA69     		ldr	r2, [r5, #28]
 227:Core/Src/MQTTSim800.c ****         datas.keepAliveInterval = SIM800.mqttClient.keepAliveInterval;
 282              		.loc 1 227 32 view .LVU54
 283 0066 0392     		str	r2, [sp, #12]
 228:Core/Src/MQTTSim800.c ****         datas.cleansession = 1;
 284              		.loc 1 228 9 is_stmt 1 view .LVU55
 228:Core/Src/MQTTSim800.c ****         datas.cleansession = 1;
 285              		.loc 1 228 52 is_stmt 0 view .LVU56
 286 0068 2B8C     		ldrh	r3, [r5, #32]
 228:Core/Src/MQTTSim800.c ****         datas.cleansession = 1;
 287              		.loc 1 228 33 view .LVU57
 288 006a ADF81830 		strh	r3, [sp, #24]	@ movhi
 229:Core/Src/MQTTSim800.c ****         int mqtt_len = MQTTSerialize_connect(buf, sizeof(buf), &datas);
 289              		.loc 1 229 9 is_stmt 1 view .LVU58
 230:Core/Src/MQTTSim800.c ****         HAL_UART_Transmit_IT(UART_SIM800, buf, mqtt_len);
 290              		.loc 1 230 9 view .LVU59
 230:Core/Src/MQTTSim800.c ****         HAL_UART_Transmit_IT(UART_SIM800, buf, mqtt_len);
 291              		.loc 1 230 24 is_stmt 0 view .LVU60
 292 006e 6A46     		mov	r2, sp
 293 0070 8021     		movs	r1, #128
 294 0072 16A8     		add	r0, sp, #88
 295 0074 FFF7FEFF 		bl	MQTTSerialize_connect
 296              	.LVL16:
 231:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
 297              		.loc 1 231 9 is_stmt 1 view .LVU61
 298 0078 82B2     		uxth	r2, r0
 299 007a 16A9     		add	r1, sp, #88
 300 007c 0748     		ldr	r0, .L19+16
 301              	.LVL17:
 231:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
 302              		.loc 1 231 9 is_stmt 0 view .LVU62
 303 007e FFF7FEFF 		bl	HAL_UART_Transmit_IT
 304              	.LVL18:
 233:Core/Src/MQTTSim800.c **** #else
 305              		.loc 1 233 9 is_stmt 1 view .LVU63
 306 0082 41F28830 		movw	r0, #5000
 307 0086 FFF7FEFF 		bl	osDelay
 308              	.LVL19:
 309              	.LBE2:
 310              		.loc 1 238 1 is_stmt 0 view .LVU64
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 11


 311 008a E0E7     		b	.L15
 312              	.L20:
 313              		.align	2
 314              	.L19:
 315 008c 00000000 		.word	SIM800
 316 0090 00000000 		.word	.LC1
 317 0094 1C000000 		.word	.LC2
 318 0098 00000000 		.word	.LANCHOR5
 319 009c 00000000 		.word	huart2
 320              		.cfi_endproc
 321              	.LFE77:
 323              		.section	.rodata.MQTT_Init.str1.4,"aMS",%progbits,1
 324              		.align	2
 325              	.LC3:
 326 0000 41540D0A 		.ascii	"AT\015\012\000"
 326      00
 327 0005 000000   		.align	2
 328              	.LC4:
 329 0008 41544530 		.ascii	"ATE0\015\012\000"
 329      0D0A00
 330 000f 00       		.align	2
 331              	.LC5:
 332 0010 53485554 		.ascii	"SHUT OK\015\012\000"
 332      204F4B0D 
 332      0A00
 333 001a 0000     		.align	2
 334              	.LC6:
 335 001c 41542B43 		.ascii	"AT+CIPSHUT\015\012\000"
 335      49505348 
 335      55540D0A 
 335      00
 336 0029 000000   		.align	2
 337              	.LC7:
 338 002c 41542B43 		.ascii	"AT+CGATT=1\015\012\000"
 338      47415454 
 338      3D310D0A 
 338      00
 339 0039 000000   		.align	2
 340              	.LC8:
 341 003c 41542B43 		.ascii	"AT+CIPMODE=1\015\012\000"
 341      49504D4F 
 341      44453D31 
 341      0D0A00
 342 004b 00       		.align	2
 343              	.LC9:
 344 004c 41542B43 		.ascii	"AT+CSTT=\"%s\",\"%s\",\"%s\"\015\012\000"
 344      5354543D 
 344      22257322 
 344      2C222573 
 344      222C2225 
 345 0065 000000   		.align	2
 346              	.LC10:
 347 0068 41542B43 		.ascii	"AT+CIICR\015\012\000"
 347      49494352 
 347      0D0A00
 348 0073 00       		.align	2
 349              	.LC11:
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 12


 350 0074 00       		.ascii	"\000"
 351 0075 000000   		.align	2
 352              	.LC12:
 353 0078 41542B43 		.ascii	"AT+CIFSR\015\012\000"
 353      49465352 
 353      0D0A00
 354              		.section	.text.MQTT_Init,"ax",%progbits
 355              		.align	1
 356              		.global	MQTT_Init
 357              		.syntax unified
 358              		.thumb
 359              		.thumb_func
 361              	MQTT_Init:
 362              	.LFB76:
 175:Core/Src/MQTTSim800.c ****     SIM800.mqttServer.connect = 0;
 363              		.loc 1 175 1 is_stmt 1 view -0
 364              		.cfi_startproc
 365              		@ args = 0, pretend = 0, frame = 32
 366              		@ frame_needed = 0, uses_anonymous_args = 0
 367 0000 70B5     		push	{r4, r5, r6, lr}
 368              	.LCFI7:
 369              		.cfi_def_cfa_offset 16
 370              		.cfi_offset 4, -16
 371              		.cfi_offset 5, -12
 372              		.cfi_offset 6, -8
 373              		.cfi_offset 14, -4
 374 0002 8AB0     		sub	sp, sp, #40
 375              	.LCFI8:
 376              		.cfi_def_cfa_offset 56
 176:Core/Src/MQTTSim800.c ****     int error = 0;
 377              		.loc 1 176 5 view .LVU66
 176:Core/Src/MQTTSim800.c ****     int error = 0;
 378              		.loc 1 176 31 is_stmt 0 view .LVU67
 379 0004 2B4E     		ldr	r6, .L25
 380 0006 0023     		movs	r3, #0
 381 0008 B374     		strb	r3, [r6, #18]
 177:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 382              		.loc 1 177 5 is_stmt 1 view .LVU68
 383              	.LVL20:
 178:Core/Src/MQTTSim800.c ****     HAL_UART_Receive_IT(UART_SIM800, &rx_data, 1);
 384              		.loc 1 178 5 view .LVU69
 178:Core/Src/MQTTSim800.c ****     HAL_UART_Receive_IT(UART_SIM800, &rx_data, 1);
 385              		.loc 1 178 10 is_stmt 0 view .LVU70
 386 000a 0293     		str	r3, [sp, #8]
 387 000c 0393     		str	r3, [sp, #12]
 388 000e 0493     		str	r3, [sp, #16]
 389 0010 0593     		str	r3, [sp, #20]
 390 0012 0693     		str	r3, [sp, #24]
 391 0014 0793     		str	r3, [sp, #28]
 392 0016 0893     		str	r3, [sp, #32]
 393 0018 0993     		str	r3, [sp, #36]
 179:Core/Src/MQTTSim800.c **** 
 394              		.loc 1 179 5 is_stmt 1 view .LVU71
 395 001a 0122     		movs	r2, #1
 396 001c 2649     		ldr	r1, .L25+4
 397 001e 2748     		ldr	r0, .L25+8
 398 0020 FFF7FEFF 		bl	HAL_UART_Receive_IT
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 13


 399              	.LVL21:
 181:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("ATE0\r\n", "OK\r\n", CMD_DELAY);
 400              		.loc 1 181 5 view .LVU72
 401 0024 264D     		ldr	r5, .L25+12
 402 0026 4FF4FA62 		mov	r2, #2000
 403 002a 2946     		mov	r1, r5
 404 002c 2548     		ldr	r0, .L25+16
 405 002e FFF7FEFF 		bl	SIM800_SendCommand
 406              	.LVL22:
 182:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPSHUT\r\n", "SHUT OK\r\n", CMD_DELAY);
 407              		.loc 1 182 5 view .LVU73
 408 0032 4FF4FA62 		mov	r2, #2000
 409 0036 2946     		mov	r1, r5
 410 0038 2348     		ldr	r0, .L25+20
 411 003a FFF7FEFF 		bl	SIM800_SendCommand
 412              	.LVL23:
 183:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CGATT=1\r\n", "OK\r\n", CMD_DELAY);
 413              		.loc 1 183 5 view .LVU74
 183:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CGATT=1\r\n", "OK\r\n", CMD_DELAY);
 414              		.loc 1 183 14 is_stmt 0 view .LVU75
 415 003e 4FF4FA62 		mov	r2, #2000
 416 0042 2249     		ldr	r1, .L25+24
 417 0044 2248     		ldr	r0, .L25+28
 418 0046 FFF7FEFF 		bl	SIM800_SendCommand
 419              	.LVL24:
 420 004a 0446     		mov	r4, r0
 421              	.LVL25:
 184:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPMODE=1\r\n", "OK\r\n", CMD_DELAY);
 422              		.loc 1 184 5 is_stmt 1 view .LVU76
 184:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPMODE=1\r\n", "OK\r\n", CMD_DELAY);
 423              		.loc 1 184 14 is_stmt 0 view .LVU77
 424 004c 4FF4FA62 		mov	r2, #2000
 425 0050 2946     		mov	r1, r5
 426 0052 2048     		ldr	r0, .L25+32
 427              	.LVL26:
 184:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPMODE=1\r\n", "OK\r\n", CMD_DELAY);
 428              		.loc 1 184 14 view .LVU78
 429 0054 FFF7FEFF 		bl	SIM800_SendCommand
 430              	.LVL27:
 184:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPMODE=1\r\n", "OK\r\n", CMD_DELAY);
 431              		.loc 1 184 11 view .LVU79
 432 0058 0444     		add	r4, r4, r0
 433              	.LVL28:
 185:Core/Src/MQTTSim800.c **** 
 434              		.loc 1 185 5 is_stmt 1 view .LVU80
 185:Core/Src/MQTTSim800.c **** 
 435              		.loc 1 185 14 is_stmt 0 view .LVU81
 436 005a 4FF4FA62 		mov	r2, #2000
 437 005e 2946     		mov	r1, r5
 438 0060 1D48     		ldr	r0, .L25+36
 439 0062 FFF7FEFF 		bl	SIM800_SendCommand
 440              	.LVL29:
 185:Core/Src/MQTTSim800.c **** 
 441              		.loc 1 185 11 view .LVU82
 442 0066 0444     		add	r4, r4, r0
 443              	.LVL30:
 187:Core/Src/MQTTSim800.c ****              SIM800.sim.apn_pass);
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 14


 444              		.loc 1 187 5 is_stmt 1 view .LVU83
 445 0068 B368     		ldr	r3, [r6, #8]
 446 006a 0193     		str	r3, [sp, #4]
 447 006c 7368     		ldr	r3, [r6, #4]
 448 006e 0093     		str	r3, [sp]
 449 0070 3368     		ldr	r3, [r6]
 450 0072 1A4A     		ldr	r2, .L25+40
 451 0074 2021     		movs	r1, #32
 452 0076 02A8     		add	r0, sp, #8
 453 0078 FFF7FEFF 		bl	snprintf
 454              	.LVL31:
 189:Core/Src/MQTTSim800.c **** 
 455              		.loc 1 189 5 view .LVU84
 189:Core/Src/MQTTSim800.c **** 
 456              		.loc 1 189 14 is_stmt 0 view .LVU85
 457 007c 4FF4FA62 		mov	r2, #2000
 458 0080 2946     		mov	r1, r5
 459 0082 02A8     		add	r0, sp, #8
 460 0084 FFF7FEFF 		bl	SIM800_SendCommand
 461              	.LVL32:
 189:Core/Src/MQTTSim800.c **** 
 462              		.loc 1 189 11 view .LVU86
 463 0088 0444     		add	r4, r4, r0
 464              	.LVL33:
 191:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIFSR\r\n", "", CMD_DELAY);
 465              		.loc 1 191 5 is_stmt 1 view .LVU87
 191:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIFSR\r\n", "", CMD_DELAY);
 466              		.loc 1 191 14 is_stmt 0 view .LVU88
 467 008a 4FF4FA62 		mov	r2, #2000
 468 008e 2946     		mov	r1, r5
 469 0090 1348     		ldr	r0, .L25+44
 470 0092 FFF7FEFF 		bl	SIM800_SendCommand
 471              	.LVL34:
 191:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIFSR\r\n", "", CMD_DELAY);
 472              		.loc 1 191 11 view .LVU89
 473 0096 0444     		add	r4, r4, r0
 474              	.LVL35:
 192:Core/Src/MQTTSim800.c ****     if (error == 0)
 475              		.loc 1 192 5 is_stmt 1 view .LVU90
 476 0098 4FF4FA62 		mov	r2, #2000
 477 009c 1149     		ldr	r1, .L25+48
 478 009e 1248     		ldr	r0, .L25+52
 479 00a0 FFF7FEFF 		bl	SIM800_SendCommand
 480              	.LVL36:
 193:Core/Src/MQTTSim800.c ****     {
 481              		.loc 1 193 5 view .LVU91
 193:Core/Src/MQTTSim800.c ****     {
 482              		.loc 1 193 8 is_stmt 0 view .LVU92
 483 00a4 14B1     		cbz	r4, .L24
 484              	.L21:
 202:Core/Src/MQTTSim800.c **** 
 485              		.loc 1 202 1 view .LVU93
 486 00a6 2046     		mov	r0, r4
 487 00a8 0AB0     		add	sp, sp, #40
 488              	.LCFI9:
 489              		.cfi_remember_state
 490              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 15


 491              		@ sp needed
 492 00aa 70BD     		pop	{r4, r5, r6, pc}
 493              	.LVL37:
 494              	.L24:
 495              	.LCFI10:
 496              		.cfi_restore_state
 195:Core/Src/MQTTSim800.c ****         return error;
 497              		.loc 1 195 9 is_stmt 1 view .LVU94
 498 00ac FFF7FEFF 		bl	MQTT_Connect
 499              	.LVL38:
 196:Core/Src/MQTTSim800.c ****     }
 500              		.loc 1 196 9 view .LVU95
 196:Core/Src/MQTTSim800.c ****     }
 501              		.loc 1 196 16 is_stmt 0 view .LVU96
 502 00b0 F9E7     		b	.L21
 503              	.L26:
 504 00b2 00BF     		.align	2
 505              	.L25:
 506 00b4 00000000 		.word	SIM800
 507 00b8 00000000 		.word	.LANCHOR6
 508 00bc 00000000 		.word	huart2
 509 00c0 1C000000 		.word	.LC2
 510 00c4 00000000 		.word	.LC3
 511 00c8 08000000 		.word	.LC4
 512 00cc 10000000 		.word	.LC5
 513 00d0 1C000000 		.word	.LC6
 514 00d4 2C000000 		.word	.LC7
 515 00d8 3C000000 		.word	.LC8
 516 00dc 4C000000 		.word	.LC9
 517 00e0 68000000 		.word	.LC10
 518 00e4 74000000 		.word	.LC11
 519 00e8 78000000 		.word	.LC12
 520              		.cfi_endproc
 521              	.LFE76:
 523              		.section	.text.MQTT_Pub,"ax",%progbits
 524              		.align	1
 525              		.global	MQTT_Pub
 526              		.syntax unified
 527              		.thumb
 528              		.thumb_func
 530              	MQTT_Pub:
 531              	.LVL39:
 532              	.LFB78:
 239:Core/Src/MQTTSim800.c **** 
 240:Core/Src/MQTTSim800.c **** /**
 241:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 242:Core/Src/MQTTSim800.c ****  * @param topic to be used to the set topic
 243:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 244:Core/Src/MQTTSim800.c ****  * @return NONE
 245:Core/Src/MQTTSim800.c ****  */
 246:Core/Src/MQTTSim800.c **** void MQTT_Pub(char *topic, char *payload)
 247:Core/Src/MQTTSim800.c **** {
 533              		.loc 1 247 1 is_stmt 1 view -0
 534              		.cfi_startproc
 535              		@ args = 0, pretend = 0, frame = 272
 536              		@ frame_needed = 0, uses_anonymous_args = 0
 537              		.loc 1 247 1 is_stmt 0 view .LVU98
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 16


 538 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 539              	.LCFI11:
 540              		.cfi_def_cfa_offset 20
 541              		.cfi_offset 4, -20
 542              		.cfi_offset 5, -16
 543              		.cfi_offset 6, -12
 544              		.cfi_offset 7, -8
 545              		.cfi_offset 14, -4
 546 0002 CDB0     		sub	sp, sp, #308
 547              	.LCFI12:
 548              		.cfi_def_cfa_offset 328
 549 0004 0746     		mov	r7, r0
 550 0006 0E46     		mov	r6, r1
 248:Core/Src/MQTTSim800.c ****     unsigned char buf[256] = {0};
 551              		.loc 1 248 5 is_stmt 1 view .LVU99
 552              		.loc 1 248 19 is_stmt 0 view .LVU100
 553 0008 0024     		movs	r4, #0
 554 000a 0C94     		str	r4, [sp, #48]
 555 000c FC22     		movs	r2, #252
 556 000e 2146     		mov	r1, r4
 557              	.LVL40:
 558              		.loc 1 248 19 view .LVU101
 559 0010 0DA8     		add	r0, sp, #52
 560              	.LVL41:
 561              		.loc 1 248 19 view .LVU102
 562 0012 FFF7FEFF 		bl	memset
 563              	.LVL42:
 249:Core/Src/MQTTSim800.c **** 
 250:Core/Src/MQTTSim800.c ****     MQTTString topicString = MQTTString_initializer;
 564              		.loc 1 250 5 is_stmt 1 view .LVU103
 565              		.loc 1 250 16 is_stmt 0 view .LVU104
 566 0016 09AD     		add	r5, sp, #36
 567 0018 0994     		str	r4, [sp, #36]
 568 001a 0A94     		str	r4, [sp, #40]
 569 001c 0B94     		str	r4, [sp, #44]
 251:Core/Src/MQTTSim800.c ****     topicString.cstring = topic;
 570              		.loc 1 251 5 is_stmt 1 view .LVU105
 571              		.loc 1 251 25 is_stmt 0 view .LVU106
 572 001e 0997     		str	r7, [sp, #36]
 252:Core/Src/MQTTSim800.c **** 
 253:Core/Src/MQTTSim800.c ****     int mqtt_len = MQTTSerialize_publish(buf, sizeof(buf), 0, 0, 0, 0,
 573              		.loc 1 253 5 is_stmt 1 view .LVU107
 254:Core/Src/MQTTSim800.c ****                                          topicString, (unsigned char *)payload, (int)strlen(payload
 574              		.loc 1 254 86 is_stmt 0 view .LVU108
 575 0020 3046     		mov	r0, r6
 576 0022 FFF7FEFF 		bl	strlen
 577              	.LVL43:
 253:Core/Src/MQTTSim800.c ****                                          topicString, (unsigned char *)payload, (int)strlen(payload
 578              		.loc 1 253 20 view .LVU109
 579 0026 0690     		str	r0, [sp, #24]
 580 0028 0596     		str	r6, [sp, #20]
 581 002a 02AB     		add	r3, sp, #8
 582 002c 95E80700 		ldm	r5, {r0, r1, r2}
 583 0030 83E80700 		stm	r3, {r0, r1, r2}
 584 0034 0194     		str	r4, [sp, #4]
 585 0036 0094     		str	r4, [sp]
 586 0038 2346     		mov	r3, r4
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 17


 587 003a 4FF48071 		mov	r1, #256
 588 003e 0CA8     		add	r0, sp, #48
 589 0040 FFF7FEFF 		bl	MQTTSerialize_publish
 590              	.LVL44:
 255:Core/Src/MQTTSim800.c ****     HAL_UART_Transmit_IT(UART_SIM800, buf, mqtt_len);
 591              		.loc 1 255 5 is_stmt 1 view .LVU110
 592 0044 82B2     		uxth	r2, r0
 593 0046 0CA9     		add	r1, sp, #48
 594 0048 0348     		ldr	r0, .L29
 595              	.LVL45:
 596              		.loc 1 255 5 is_stmt 0 view .LVU111
 597 004a FFF7FEFF 		bl	HAL_UART_Transmit_IT
 598              	.LVL46:
 256:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
 257:Core/Src/MQTTSim800.c ****     osDelay(100);
 599              		.loc 1 257 5 is_stmt 1 view .LVU112
 600 004e 6420     		movs	r0, #100
 601 0050 FFF7FEFF 		bl	osDelay
 602              	.LVL47:
 258:Core/Src/MQTTSim800.c **** #else
 259:Core/Src/MQTTSim800.c ****     HAL_Delay(100);
 260:Core/Src/MQTTSim800.c **** #endif
 261:Core/Src/MQTTSim800.c **** }
 603              		.loc 1 261 1 is_stmt 0 view .LVU113
 604 0054 4DB0     		add	sp, sp, #308
 605              	.LCFI13:
 606              		.cfi_def_cfa_offset 20
 607              		@ sp needed
 608 0056 F0BD     		pop	{r4, r5, r6, r7, pc}
 609              	.LVL48:
 610              	.L30:
 611              		.loc 1 261 1 view .LVU114
 612              		.align	2
 613              	.L29:
 614 0058 00000000 		.word	huart2
 615              		.cfi_endproc
 616              	.LFE78:
 618              		.section	.rodata.MQTT_PubUint8.str1.4,"aMS",%progbits,1
 619              		.align	2
 620              	.LC13:
 621 0000 257500   		.ascii	"%u\000"
 622              		.section	.text.MQTT_PubUint8,"ax",%progbits
 623              		.align	1
 624              		.global	MQTT_PubUint8
 625              		.syntax unified
 626              		.thumb
 627              		.thumb_func
 629              	MQTT_PubUint8:
 630              	.LVL49:
 631              	.LFB79:
 262:Core/Src/MQTTSim800.c **** 
 263:Core/Src/MQTTSim800.c **** /**
 264:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 265:Core/Src/MQTTSim800.c ****  * @param topic (uint8_t)  to be used to the set topic
 266:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 267:Core/Src/MQTTSim800.c ****  * @return NONE
 268:Core/Src/MQTTSim800.c ****  */
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 18


 269:Core/Src/MQTTSim800.c **** void MQTT_PubUint8(char *topic, uint8_t payload)
 270:Core/Src/MQTTSim800.c **** {
 632              		.loc 1 270 1 is_stmt 1 view -0
 633              		.cfi_startproc
 634              		@ args = 0, pretend = 0, frame = 32
 635              		@ frame_needed = 0, uses_anonymous_args = 0
 636              		.loc 1 270 1 is_stmt 0 view .LVU116
 637 0000 10B5     		push	{r4, lr}
 638              	.LCFI14:
 639              		.cfi_def_cfa_offset 8
 640              		.cfi_offset 4, -8
 641              		.cfi_offset 14, -4
 642 0002 88B0     		sub	sp, sp, #32
 643              	.LCFI15:
 644              		.cfi_def_cfa_offset 40
 645 0004 0446     		mov	r4, r0
 646 0006 0A46     		mov	r2, r1
 271:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 647              		.loc 1 271 5 is_stmt 1 view .LVU117
 648              		.loc 1 271 10 is_stmt 0 view .LVU118
 649 0008 0023     		movs	r3, #0
 650 000a 0093     		str	r3, [sp]
 651 000c 0193     		str	r3, [sp, #4]
 652 000e 0293     		str	r3, [sp, #8]
 653 0010 0393     		str	r3, [sp, #12]
 654 0012 0493     		str	r3, [sp, #16]
 655 0014 0593     		str	r3, [sp, #20]
 656 0016 0693     		str	r3, [sp, #24]
 657 0018 0793     		str	r3, [sp, #28]
 272:Core/Src/MQTTSim800.c ****     sprintf(str, "%u", payload);
 658              		.loc 1 272 5 is_stmt 1 view .LVU119
 659 001a 0549     		ldr	r1, .L33
 660              	.LVL50:
 661              		.loc 1 272 5 is_stmt 0 view .LVU120
 662 001c 6846     		mov	r0, sp
 663              	.LVL51:
 664              		.loc 1 272 5 view .LVU121
 665 001e FFF7FEFF 		bl	sprintf
 666              	.LVL52:
 273:Core/Src/MQTTSim800.c ****     MQTT_Pub(topic, str);
 667              		.loc 1 273 5 is_stmt 1 view .LVU122
 668 0022 6946     		mov	r1, sp
 669 0024 2046     		mov	r0, r4
 670 0026 FFF7FEFF 		bl	MQTT_Pub
 671              	.LVL53:
 274:Core/Src/MQTTSim800.c **** }
 672              		.loc 1 274 1 is_stmt 0 view .LVU123
 673 002a 08B0     		add	sp, sp, #32
 674              	.LCFI16:
 675              		.cfi_def_cfa_offset 8
 676              		@ sp needed
 677 002c 10BD     		pop	{r4, pc}
 678              	.LVL54:
 679              	.L34:
 680              		.loc 1 274 1 view .LVU124
 681 002e 00BF     		.align	2
 682              	.L33:
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 19


 683 0030 00000000 		.word	.LC13
 684              		.cfi_endproc
 685              	.LFE79:
 687              		.section	.text.MQTT_PubUint16,"ax",%progbits
 688              		.align	1
 689              		.global	MQTT_PubUint16
 690              		.syntax unified
 691              		.thumb
 692              		.thumb_func
 694              	MQTT_PubUint16:
 695              	.LVL55:
 696              	.LFB80:
 275:Core/Src/MQTTSim800.c **** 
 276:Core/Src/MQTTSim800.c **** /**
 277:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 278:Core/Src/MQTTSim800.c ****  * @param topic (uint16_t)  to be used to the set topic
 279:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 280:Core/Src/MQTTSim800.c ****  * @return NONE
 281:Core/Src/MQTTSim800.c ****  */
 282:Core/Src/MQTTSim800.c **** void MQTT_PubUint16(char *topic, uint16_t payload)
 283:Core/Src/MQTTSim800.c **** {
 697              		.loc 1 283 1 is_stmt 1 view -0
 698              		.cfi_startproc
 699              		@ args = 0, pretend = 0, frame = 32
 700              		@ frame_needed = 0, uses_anonymous_args = 0
 701              		.loc 1 283 1 is_stmt 0 view .LVU126
 702 0000 10B5     		push	{r4, lr}
 703              	.LCFI17:
 704              		.cfi_def_cfa_offset 8
 705              		.cfi_offset 4, -8
 706              		.cfi_offset 14, -4
 707 0002 88B0     		sub	sp, sp, #32
 708              	.LCFI18:
 709              		.cfi_def_cfa_offset 40
 710 0004 0446     		mov	r4, r0
 711 0006 0A46     		mov	r2, r1
 284:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 712              		.loc 1 284 5 is_stmt 1 view .LVU127
 713              		.loc 1 284 10 is_stmt 0 view .LVU128
 714 0008 0023     		movs	r3, #0
 715 000a 0093     		str	r3, [sp]
 716 000c 0193     		str	r3, [sp, #4]
 717 000e 0293     		str	r3, [sp, #8]
 718 0010 0393     		str	r3, [sp, #12]
 719 0012 0493     		str	r3, [sp, #16]
 720 0014 0593     		str	r3, [sp, #20]
 721 0016 0693     		str	r3, [sp, #24]
 722 0018 0793     		str	r3, [sp, #28]
 285:Core/Src/MQTTSim800.c ****     sprintf(str, "%u", payload);
 723              		.loc 1 285 5 is_stmt 1 view .LVU129
 724 001a 0549     		ldr	r1, .L37
 725              	.LVL56:
 726              		.loc 1 285 5 is_stmt 0 view .LVU130
 727 001c 6846     		mov	r0, sp
 728              	.LVL57:
 729              		.loc 1 285 5 view .LVU131
 730 001e FFF7FEFF 		bl	sprintf
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 20


 731              	.LVL58:
 286:Core/Src/MQTTSim800.c ****     MQTT_Pub(topic, str);
 732              		.loc 1 286 5 is_stmt 1 view .LVU132
 733 0022 6946     		mov	r1, sp
 734 0024 2046     		mov	r0, r4
 735 0026 FFF7FEFF 		bl	MQTT_Pub
 736              	.LVL59:
 287:Core/Src/MQTTSim800.c **** }
 737              		.loc 1 287 1 is_stmt 0 view .LVU133
 738 002a 08B0     		add	sp, sp, #32
 739              	.LCFI19:
 740              		.cfi_def_cfa_offset 8
 741              		@ sp needed
 742 002c 10BD     		pop	{r4, pc}
 743              	.LVL60:
 744              	.L38:
 745              		.loc 1 287 1 view .LVU134
 746 002e 00BF     		.align	2
 747              	.L37:
 748 0030 00000000 		.word	.LC13
 749              		.cfi_endproc
 750              	.LFE80:
 752              		.section	.rodata.MQTT_PubUint32.str1.4,"aMS",%progbits,1
 753              		.align	2
 754              	.LC14:
 755 0000 256C7500 		.ascii	"%lu\000"
 756              		.section	.text.MQTT_PubUint32,"ax",%progbits
 757              		.align	1
 758              		.global	MQTT_PubUint32
 759              		.syntax unified
 760              		.thumb
 761              		.thumb_func
 763              	MQTT_PubUint32:
 764              	.LVL61:
 765              	.LFB81:
 288:Core/Src/MQTTSim800.c **** 
 289:Core/Src/MQTTSim800.c **** /**
 290:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 291:Core/Src/MQTTSim800.c ****  * @param topic (uint32_t)  to be used to the set topic
 292:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 293:Core/Src/MQTTSim800.c ****  * @return NONE
 294:Core/Src/MQTTSim800.c ****  */
 295:Core/Src/MQTTSim800.c **** void MQTT_PubUint32(char *topic, uint32_t payload)
 296:Core/Src/MQTTSim800.c **** {
 766              		.loc 1 296 1 is_stmt 1 view -0
 767              		.cfi_startproc
 768              		@ args = 0, pretend = 0, frame = 32
 769              		@ frame_needed = 0, uses_anonymous_args = 0
 770              		.loc 1 296 1 is_stmt 0 view .LVU136
 771 0000 10B5     		push	{r4, lr}
 772              	.LCFI20:
 773              		.cfi_def_cfa_offset 8
 774              		.cfi_offset 4, -8
 775              		.cfi_offset 14, -4
 776 0002 88B0     		sub	sp, sp, #32
 777              	.LCFI21:
 778              		.cfi_def_cfa_offset 40
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 21


 779 0004 0446     		mov	r4, r0
 780 0006 0A46     		mov	r2, r1
 297:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 781              		.loc 1 297 5 is_stmt 1 view .LVU137
 782              		.loc 1 297 10 is_stmt 0 view .LVU138
 783 0008 0023     		movs	r3, #0
 784 000a 0093     		str	r3, [sp]
 785 000c 0193     		str	r3, [sp, #4]
 786 000e 0293     		str	r3, [sp, #8]
 787 0010 0393     		str	r3, [sp, #12]
 788 0012 0493     		str	r3, [sp, #16]
 789 0014 0593     		str	r3, [sp, #20]
 790 0016 0693     		str	r3, [sp, #24]
 791 0018 0793     		str	r3, [sp, #28]
 298:Core/Src/MQTTSim800.c ****     sprintf(str, "%lu", payload);
 792              		.loc 1 298 5 is_stmt 1 view .LVU139
 793 001a 0549     		ldr	r1, .L41
 794              	.LVL62:
 795              		.loc 1 298 5 is_stmt 0 view .LVU140
 796 001c 6846     		mov	r0, sp
 797              	.LVL63:
 798              		.loc 1 298 5 view .LVU141
 799 001e FFF7FEFF 		bl	sprintf
 800              	.LVL64:
 299:Core/Src/MQTTSim800.c ****     MQTT_Pub(topic, str);
 801              		.loc 1 299 5 is_stmt 1 view .LVU142
 802 0022 6946     		mov	r1, sp
 803 0024 2046     		mov	r0, r4
 804 0026 FFF7FEFF 		bl	MQTT_Pub
 805              	.LVL65:
 300:Core/Src/MQTTSim800.c **** }
 806              		.loc 1 300 1 is_stmt 0 view .LVU143
 807 002a 08B0     		add	sp, sp, #32
 808              	.LCFI22:
 809              		.cfi_def_cfa_offset 8
 810              		@ sp needed
 811 002c 10BD     		pop	{r4, pc}
 812              	.LVL66:
 813              	.L42:
 814              		.loc 1 300 1 view .LVU144
 815 002e 00BF     		.align	2
 816              	.L41:
 817 0030 00000000 		.word	.LC14
 818              		.cfi_endproc
 819              	.LFE81:
 821              		.global	__aeabi_f2d
 822              		.section	.rodata.MQTT_PubFloat.str1.4,"aMS",%progbits,1
 823              		.align	2
 824              	.LC15:
 825 0000 256600   		.ascii	"%f\000"
 826              		.section	.text.MQTT_PubFloat,"ax",%progbits
 827              		.align	1
 828              		.global	MQTT_PubFloat
 829              		.syntax unified
 830              		.thumb
 831              		.thumb_func
 833              	MQTT_PubFloat:
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 22


 834              	.LVL67:
 835              	.LFB82:
 301:Core/Src/MQTTSim800.c **** 
 302:Core/Src/MQTTSim800.c **** /**
 303:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 304:Core/Src/MQTTSim800.c ****  * @param topic (float)  to be used to the set topic
 305:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 306:Core/Src/MQTTSim800.c ****  * @return NONE
 307:Core/Src/MQTTSim800.c ****  */
 308:Core/Src/MQTTSim800.c **** void MQTT_PubFloat(char *topic, float payload)
 309:Core/Src/MQTTSim800.c **** {
 836              		.loc 1 309 1 is_stmt 1 view -0
 837              		.cfi_startproc
 838              		@ args = 0, pretend = 0, frame = 32
 839              		@ frame_needed = 0, uses_anonymous_args = 0
 840              		.loc 1 309 1 is_stmt 0 view .LVU146
 841 0000 10B5     		push	{r4, lr}
 842              	.LCFI23:
 843              		.cfi_def_cfa_offset 8
 844              		.cfi_offset 4, -8
 845              		.cfi_offset 14, -4
 846 0002 88B0     		sub	sp, sp, #32
 847              	.LCFI24:
 848              		.cfi_def_cfa_offset 40
 849 0004 0446     		mov	r4, r0
 310:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 850              		.loc 1 310 5 is_stmt 1 view .LVU147
 851              		.loc 1 310 10 is_stmt 0 view .LVU148
 852 0006 0023     		movs	r3, #0
 853 0008 0093     		str	r3, [sp]
 854 000a 0193     		str	r3, [sp, #4]
 855 000c 0293     		str	r3, [sp, #8]
 856 000e 0393     		str	r3, [sp, #12]
 857 0010 0493     		str	r3, [sp, #16]
 858 0012 0593     		str	r3, [sp, #20]
 859 0014 0693     		str	r3, [sp, #24]
 860 0016 0793     		str	r3, [sp, #28]
 311:Core/Src/MQTTSim800.c ****     sprintf(str, "%f", payload);
 861              		.loc 1 311 5 is_stmt 1 view .LVU149
 862 0018 0846     		mov	r0, r1
 863              	.LVL68:
 864              		.loc 1 311 5 is_stmt 0 view .LVU150
 865 001a FFF7FEFF 		bl	__aeabi_f2d
 866              	.LVL69:
 867              		.loc 1 311 5 view .LVU151
 868 001e 0246     		mov	r2, r0
 869 0020 0B46     		mov	r3, r1
 870 0022 0549     		ldr	r1, .L45
 871 0024 6846     		mov	r0, sp
 872 0026 FFF7FEFF 		bl	sprintf
 873              	.LVL70:
 312:Core/Src/MQTTSim800.c ****     MQTT_Pub(topic, str);
 874              		.loc 1 312 5 is_stmt 1 view .LVU152
 875 002a 6946     		mov	r1, sp
 876 002c 2046     		mov	r0, r4
 877 002e FFF7FEFF 		bl	MQTT_Pub
 878              	.LVL71:
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 23


 313:Core/Src/MQTTSim800.c **** }
 879              		.loc 1 313 1 is_stmt 0 view .LVU153
 880 0032 08B0     		add	sp, sp, #32
 881              	.LCFI25:
 882              		.cfi_def_cfa_offset 8
 883              		@ sp needed
 884 0034 10BD     		pop	{r4, pc}
 885              	.LVL72:
 886              	.L46:
 887              		.loc 1 313 1 view .LVU154
 888 0036 00BF     		.align	2
 889              	.L45:
 890 0038 00000000 		.word	.LC15
 891              		.cfi_endproc
 892              	.LFE82:
 894              		.section	.text.MQTT_PubDouble,"ax",%progbits
 895              		.align	1
 896              		.global	MQTT_PubDouble
 897              		.syntax unified
 898              		.thumb
 899              		.thumb_func
 901              	MQTT_PubDouble:
 902              	.LVL73:
 903              	.LFB83:
 314:Core/Src/MQTTSim800.c **** 
 315:Core/Src/MQTTSim800.c **** /**
 316:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 317:Core/Src/MQTTSim800.c ****  * @param topic (double)  to be used to the set topic
 318:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 319:Core/Src/MQTTSim800.c ****  * @return NONE
 320:Core/Src/MQTTSim800.c ****  */
 321:Core/Src/MQTTSim800.c **** void MQTT_PubDouble(char *topic, double payload)
 322:Core/Src/MQTTSim800.c **** {
 904              		.loc 1 322 1 is_stmt 1 view -0
 905              		.cfi_startproc
 906              		@ args = 0, pretend = 0, frame = 32
 907              		@ frame_needed = 0, uses_anonymous_args = 0
 908              		.loc 1 322 1 is_stmt 0 view .LVU156
 909 0000 10B5     		push	{r4, lr}
 910              	.LCFI26:
 911              		.cfi_def_cfa_offset 8
 912              		.cfi_offset 4, -8
 913              		.cfi_offset 14, -4
 914 0002 88B0     		sub	sp, sp, #32
 915              	.LCFI27:
 916              		.cfi_def_cfa_offset 40
 917 0004 0446     		mov	r4, r0
 323:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 918              		.loc 1 323 5 is_stmt 1 view .LVU157
 919              		.loc 1 323 10 is_stmt 0 view .LVU158
 920 0006 0021     		movs	r1, #0
 921 0008 0091     		str	r1, [sp]
 922 000a 0191     		str	r1, [sp, #4]
 923 000c 0291     		str	r1, [sp, #8]
 924 000e 0391     		str	r1, [sp, #12]
 925 0010 0491     		str	r1, [sp, #16]
 926 0012 0591     		str	r1, [sp, #20]
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 24


 927 0014 0691     		str	r1, [sp, #24]
 928 0016 0791     		str	r1, [sp, #28]
 324:Core/Src/MQTTSim800.c ****     sprintf(str, "%f", payload);
 929              		.loc 1 324 5 is_stmt 1 view .LVU159
 930 0018 0449     		ldr	r1, .L49
 931 001a 6846     		mov	r0, sp
 932              	.LVL74:
 933              		.loc 1 324 5 is_stmt 0 view .LVU160
 934 001c FFF7FEFF 		bl	sprintf
 935              	.LVL75:
 325:Core/Src/MQTTSim800.c ****     MQTT_Pub(topic, str);
 936              		.loc 1 325 5 is_stmt 1 view .LVU161
 937 0020 6946     		mov	r1, sp
 938 0022 2046     		mov	r0, r4
 939 0024 FFF7FEFF 		bl	MQTT_Pub
 940              	.LVL76:
 326:Core/Src/MQTTSim800.c **** }
 941              		.loc 1 326 1 is_stmt 0 view .LVU162
 942 0028 08B0     		add	sp, sp, #32
 943              	.LCFI28:
 944              		.cfi_def_cfa_offset 8
 945              		@ sp needed
 946 002a 10BD     		pop	{r4, pc}
 947              	.LVL77:
 948              	.L50:
 949              		.loc 1 326 1 view .LVU163
 950              		.align	2
 951              	.L49:
 952 002c 00000000 		.word	.LC15
 953              		.cfi_endproc
 954              	.LFE83:
 956              		.section	.text.MQTT_PingReq,"ax",%progbits
 957              		.align	1
 958              		.global	MQTT_PingReq
 959              		.syntax unified
 960              		.thumb
 961              		.thumb_func
 963              	MQTT_PingReq:
 964              	.LFB84:
 327:Core/Src/MQTTSim800.c **** 
 328:Core/Src/MQTTSim800.c **** /**
 329:Core/Src/MQTTSim800.c ****  * Send a PINGREQ to the MQTT broker (active session)
 330:Core/Src/MQTTSim800.c ****  * @param NONE
 331:Core/Src/MQTTSim800.c ****  * @return NONE
 332:Core/Src/MQTTSim800.c ****  */
 333:Core/Src/MQTTSim800.c **** void MQTT_PingReq(void)
 334:Core/Src/MQTTSim800.c **** {
 965              		.loc 1 334 1 is_stmt 1 view -0
 966              		.cfi_startproc
 967              		@ args = 0, pretend = 0, frame = 16
 968              		@ frame_needed = 0, uses_anonymous_args = 0
 969 0000 00B5     		push	{lr}
 970              	.LCFI29:
 971              		.cfi_def_cfa_offset 4
 972              		.cfi_offset 14, -4
 973 0002 85B0     		sub	sp, sp, #20
 974              	.LCFI30:
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 25


 975              		.cfi_def_cfa_offset 24
 335:Core/Src/MQTTSim800.c ****     unsigned char buf[16] = {0};
 976              		.loc 1 335 5 view .LVU165
 977              		.loc 1 335 19 is_stmt 0 view .LVU166
 978 0004 0023     		movs	r3, #0
 979 0006 0093     		str	r3, [sp]
 980 0008 0193     		str	r3, [sp, #4]
 981 000a 0293     		str	r3, [sp, #8]
 982 000c 0393     		str	r3, [sp, #12]
 336:Core/Src/MQTTSim800.c **** 
 337:Core/Src/MQTTSim800.c ****     int mqtt_len = MQTTSerialize_pingreq(buf, sizeof(buf));
 983              		.loc 1 337 5 is_stmt 1 view .LVU167
 984              		.loc 1 337 20 is_stmt 0 view .LVU168
 985 000e 1021     		movs	r1, #16
 986 0010 6846     		mov	r0, sp
 987 0012 FFF7FEFF 		bl	MQTTSerialize_pingreq
 988              	.LVL78:
 338:Core/Src/MQTTSim800.c ****     HAL_UART_Transmit_IT(UART_SIM800, buf, mqtt_len);
 989              		.loc 1 338 5 is_stmt 1 view .LVU169
 990 0016 82B2     		uxth	r2, r0
 991 0018 6946     		mov	r1, sp
 992 001a 0348     		ldr	r0, .L53
 993              	.LVL79:
 994              		.loc 1 338 5 is_stmt 0 view .LVU170
 995 001c FFF7FEFF 		bl	HAL_UART_Transmit_IT
 996              	.LVL80:
 339:Core/Src/MQTTSim800.c **** }
 997              		.loc 1 339 1 view .LVU171
 998 0020 05B0     		add	sp, sp, #20
 999              	.LCFI31:
 1000              		.cfi_def_cfa_offset 4
 1001              		@ sp needed
 1002 0022 5DF804FB 		ldr	pc, [sp], #4
 1003              	.L54:
 1004 0026 00BF     		.align	2
 1005              	.L53:
 1006 0028 00000000 		.word	huart2
 1007              		.cfi_endproc
 1008              	.LFE84:
 1010              		.section	.text.MQTT_Sub,"ax",%progbits
 1011              		.align	1
 1012              		.global	MQTT_Sub
 1013              		.syntax unified
 1014              		.thumb
 1015              		.thumb_func
 1017              	MQTT_Sub:
 1018              	.LVL81:
 1019              	.LFB85:
 340:Core/Src/MQTTSim800.c **** 
 341:Core/Src/MQTTSim800.c **** /**
 342:Core/Src/MQTTSim800.c ****  * Subscribe on the MQTT broker of the message in a topic
 343:Core/Src/MQTTSim800.c ****  * @param topic to be used to the set topic
 344:Core/Src/MQTTSim800.c ****  * @return NONE
 345:Core/Src/MQTTSim800.c ****  */
 346:Core/Src/MQTTSim800.c **** void MQTT_Sub(char *topic)
 347:Core/Src/MQTTSim800.c **** {
 1020              		.loc 1 347 1 is_stmt 1 view -0
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 26


 1021              		.cfi_startproc
 1022              		@ args = 0, pretend = 0, frame = 272
 1023              		@ frame_needed = 0, uses_anonymous_args = 0
 1024              		.loc 1 347 1 is_stmt 0 view .LVU173
 1025 0000 30B5     		push	{r4, r5, lr}
 1026              	.LCFI32:
 1027              		.cfi_def_cfa_offset 12
 1028              		.cfi_offset 4, -12
 1029              		.cfi_offset 5, -8
 1030              		.cfi_offset 14, -4
 1031 0002 C9B0     		sub	sp, sp, #292
 1032              	.LCFI33:
 1033              		.cfi_def_cfa_offset 304
 1034 0004 0546     		mov	r5, r0
 348:Core/Src/MQTTSim800.c ****     unsigned char buf[256] = {0};
 1035              		.loc 1 348 5 is_stmt 1 view .LVU174
 1036              		.loc 1 348 19 is_stmt 0 view .LVU175
 1037 0006 0024     		movs	r4, #0
 1038 0008 0894     		str	r4, [sp, #32]
 1039 000a FC22     		movs	r2, #252
 1040 000c 2146     		mov	r1, r4
 1041 000e 09A8     		add	r0, sp, #36
 1042              	.LVL82:
 1043              		.loc 1 348 19 view .LVU176
 1044 0010 FFF7FEFF 		bl	memset
 1045              	.LVL83:
 349:Core/Src/MQTTSim800.c **** 
 350:Core/Src/MQTTSim800.c ****     MQTTString topicString = MQTTString_initializer;
 1046              		.loc 1 350 5 is_stmt 1 view .LVU177
 1047              		.loc 1 350 16 is_stmt 0 view .LVU178
 1048 0014 05AB     		add	r3, sp, #20
 1049 0016 0594     		str	r4, [sp, #20]
 1050 0018 0694     		str	r4, [sp, #24]
 1051 001a 0794     		str	r4, [sp, #28]
 351:Core/Src/MQTTSim800.c ****     topicString.cstring = topic;
 1052              		.loc 1 351 5 is_stmt 1 view .LVU179
 1053              		.loc 1 351 25 is_stmt 0 view .LVU180
 1054 001c 0595     		str	r5, [sp, #20]
 352:Core/Src/MQTTSim800.c **** 
 353:Core/Src/MQTTSim800.c ****     int mqtt_len = MQTTSerialize_subscribe(buf, sizeof(buf), 0, 1, 1,
 1055              		.loc 1 353 5 is_stmt 1 view .LVU181
 1056              		.loc 1 353 20 is_stmt 0 view .LVU182
 1057 001e 0294     		str	r4, [sp, #8]
 1058 0020 0193     		str	r3, [sp, #4]
 1059 0022 0123     		movs	r3, #1
 1060 0024 0093     		str	r3, [sp]
 1061 0026 2246     		mov	r2, r4
 1062 0028 4FF48071 		mov	r1, #256
 1063 002c 08A8     		add	r0, sp, #32
 1064 002e FFF7FEFF 		bl	MQTTSerialize_subscribe
 1065              	.LVL84:
 354:Core/Src/MQTTSim800.c ****                                            &topicString, 0);
 355:Core/Src/MQTTSim800.c ****     HAL_UART_Transmit_IT(UART_SIM800, buf, mqtt_len);
 1066              		.loc 1 355 5 is_stmt 1 view .LVU183
 1067 0032 82B2     		uxth	r2, r0
 1068 0034 08A9     		add	r1, sp, #32
 1069 0036 0448     		ldr	r0, .L57
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 27


 1070              	.LVL85:
 1071              		.loc 1 355 5 is_stmt 0 view .LVU184
 1072 0038 FFF7FEFF 		bl	HAL_UART_Transmit_IT
 1073              	.LVL86:
 356:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
 357:Core/Src/MQTTSim800.c ****     osDelay(100);
 1074              		.loc 1 357 5 is_stmt 1 view .LVU185
 1075 003c 6420     		movs	r0, #100
 1076 003e FFF7FEFF 		bl	osDelay
 1077              	.LVL87:
 358:Core/Src/MQTTSim800.c **** #else
 359:Core/Src/MQTTSim800.c ****     HAL_Delay(100);
 360:Core/Src/MQTTSim800.c **** #endif
 361:Core/Src/MQTTSim800.c **** }
 1078              		.loc 1 361 1 is_stmt 0 view .LVU186
 1079 0042 49B0     		add	sp, sp, #292
 1080              	.LCFI34:
 1081              		.cfi_def_cfa_offset 12
 1082              		@ sp needed
 1083 0044 30BD     		pop	{r4, r5, pc}
 1084              	.LVL88:
 1085              	.L58:
 1086              		.loc 1 361 1 view .LVU187
 1087 0046 00BF     		.align	2
 1088              	.L57:
 1089 0048 00000000 		.word	huart2
 1090              		.cfi_endproc
 1091              	.LFE85:
 1093              		.section	.text.MQTT_Receive,"ax",%progbits
 1094              		.align	1
 1095              		.global	MQTT_Receive
 1096              		.syntax unified
 1097              		.thumb
 1098              		.thumb_func
 1100              	MQTT_Receive:
 1101              	.LVL89:
 1102              	.LFB86:
 362:Core/Src/MQTTSim800.c **** 
 363:Core/Src/MQTTSim800.c **** /**
 364:Core/Src/MQTTSim800.c ****  * Receive message from MQTT broker
 365:Core/Src/MQTTSim800.c ****  * @param receive mqtt bufer
 366:Core/Src/MQTTSim800.c ****  * @return NONE
 367:Core/Src/MQTTSim800.c ****  */
 368:Core/Src/MQTTSim800.c **** void MQTT_Receive(unsigned char *buf)
 369:Core/Src/MQTTSim800.c **** {
 1103              		.loc 1 369 1 is_stmt 1 view -0
 1104              		.cfi_startproc
 1105              		@ args = 0, pretend = 0, frame = 16
 1106              		@ frame_needed = 0, uses_anonymous_args = 0
 1107              		.loc 1 369 1 is_stmt 0 view .LVU189
 1108 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1109              	.LCFI35:
 1110              		.cfi_def_cfa_offset 20
 1111              		.cfi_offset 4, -20
 1112              		.cfi_offset 5, -16
 1113              		.cfi_offset 6, -12
 1114              		.cfi_offset 7, -8
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 28


 1115              		.cfi_offset 14, -4
 1116 0002 8BB0     		sub	sp, sp, #44
 1117              	.LCFI36:
 1118              		.cfi_def_cfa_offset 64
 1119 0004 0546     		mov	r5, r0
 370:Core/Src/MQTTSim800.c ****     memset(SIM800.mqttReceive.topic, 0, sizeof(SIM800.mqttReceive.topic));
 1120              		.loc 1 370 5 is_stmt 1 view .LVU190
 1121 0006 194C     		ldr	r4, .L61
 1122 0008 4027     		movs	r7, #64
 1123 000a 3A46     		mov	r2, r7
 1124 000c 0021     		movs	r1, #0
 1125 000e 2046     		mov	r0, r4
 1126              	.LVL90:
 1127              		.loc 1 370 5 is_stmt 0 view .LVU191
 1128 0010 FFF7FEFF 		bl	memset
 1129              	.LVL91:
 371:Core/Src/MQTTSim800.c ****     memset(SIM800.mqttReceive.payload, 0, sizeof(SIM800.mqttReceive.payload));
 1130              		.loc 1 371 5 is_stmt 1 view .LVU192
 1131 0014 A4F14406 		sub	r6, r4, #68
 1132 0018 3A46     		mov	r2, r7
 1133 001a 0021     		movs	r1, #0
 1134 001c 3046     		mov	r0, r6
 1135 001e FFF7FEFF 		bl	memset
 1136              	.LVL92:
 372:Core/Src/MQTTSim800.c ****     MQTTString receivedTopic;
 1137              		.loc 1 372 5 view .LVU193
 373:Core/Src/MQTTSim800.c ****     unsigned char *payload;
 1138              		.loc 1 373 5 view .LVU194
 374:Core/Src/MQTTSim800.c ****     MQTTDeserialize_publish(&SIM800.mqttReceive.dup, &SIM800.mqttReceive.qos, &SIM800.mqttReceive.r
 1139              		.loc 1 374 5 view .LVU195
 1140 0022 0423     		movs	r3, #4
 1141 0024 0493     		str	r3, [sp, #16]
 1142 0026 0395     		str	r5, [sp, #12]
 1143 0028 231F     		subs	r3, r4, #4
 1144 002a 0293     		str	r3, [sp, #8]
 1145 002c 06AB     		add	r3, sp, #24
 1146 002e 0193     		str	r3, [sp, #4]
 1147 0030 07AB     		add	r3, sp, #28
 1148 0032 0093     		str	r3, [sp]
 1149 0034 A4F14603 		sub	r3, r4, #70
 1150 0038 A4F14802 		sub	r2, r4, #72
 1151 003c A4F14C01 		sub	r1, r4, #76
 1152 0040 A4F14F00 		sub	r0, r4, #79
 1153 0044 FFF7FEFF 		bl	MQTTDeserialize_publish
 1154              	.LVL93:
 375:Core/Src/MQTTSim800.c ****                             &SIM800.mqttReceive.msgId,
 376:Core/Src/MQTTSim800.c ****                             &receivedTopic, &payload, &SIM800.mqttReceive.payloadLen, buf,
 377:Core/Src/MQTTSim800.c ****                             sizeof(buf));
 378:Core/Src/MQTTSim800.c ****     memcpy(SIM800.mqttReceive.topic, receivedTopic.lenstring.data, receivedTopic.lenstring.len);
 1155              		.loc 1 378 5 view .LVU196
 1156              		.loc 1 378 91 is_stmt 0 view .LVU197
 1157 0048 089D     		ldr	r5, [sp, #32]
 1158              	.LVL94:
 1159              		.loc 1 378 5 view .LVU198
 1160 004a 2A46     		mov	r2, r5
 1161 004c 0999     		ldr	r1, [sp, #36]
 1162 004e 2046     		mov	r0, r4
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 29


 1163 0050 FFF7FEFF 		bl	memcpy
 1164              	.LVL95:
 379:Core/Src/MQTTSim800.c ****     SIM800.mqttReceive.topicLen = receivedTopic.lenstring.len;
 1165              		.loc 1 379 5 is_stmt 1 view .LVU199
 1166              		.loc 1 379 33 is_stmt 0 view .LVU200
 1167 0054 2564     		str	r5, [r4, #64]
 380:Core/Src/MQTTSim800.c ****     memcpy(SIM800.mqttReceive.payload, payload, SIM800.mqttReceive.payloadLen);
 1168              		.loc 1 380 5 is_stmt 1 view .LVU201
 1169 0056 54F8042C 		ldr	r2, [r4, #-4]
 1170 005a 0699     		ldr	r1, [sp, #24]
 1171 005c 3046     		mov	r0, r6
 1172 005e FFF7FEFF 		bl	memcpy
 1173              	.LVL96:
 381:Core/Src/MQTTSim800.c ****     SIM800.mqttReceive.newEvent = 1;
 1174              		.loc 1 381 5 view .LVU202
 1175              		.loc 1 381 33 is_stmt 0 view .LVU203
 1176 0062 0123     		movs	r3, #1
 1177 0064 04F8503C 		strb	r3, [r4, #-80]
 382:Core/Src/MQTTSim800.c **** }
 1178              		.loc 1 382 1 view .LVU204
 1179 0068 0BB0     		add	sp, sp, #44
 1180              	.LCFI37:
 1181              		.cfi_def_cfa_offset 20
 1182              		@ sp needed
 1183 006a F0BD     		pop	{r4, r5, r6, r7, pc}
 1184              	.L62:
 1185              		.align	2
 1186              	.L61:
 1187 006c 74000000 		.word	SIM800+116
 1188              		.cfi_endproc
 1189              	.LFE86:
 1191              		.section	.rodata.Sim800_RxCallBack.str1.4,"aMS",%progbits,1
 1192              		.align	2
 1193              	.LC16:
 1194 0000 0D0A00   		.ascii	"\015\012\000"
 1195 0003 00       		.align	2
 1196              	.LC17:
 1197 0004 44592043 		.ascii	"DY CONNECT\015\012\000"
 1197      4F4E4E45 
 1197      43540D0A 
 1197      00
 1198 0011 000000   		.align	2
 1199              	.LC18:
 1200 0014 434F4E4E 		.ascii	"CONNECT\015\012\000"
 1200      4543540D 
 1200      0A00
 1201 001e 0000     		.align	2
 1202              	.LC19:
 1203 0020 434C4F53 		.ascii	"CLOSED\015\012\000"
 1203      45440D0A 
 1203      00
 1204 0029 000000   		.align	2
 1205              	.LC20:
 1206 002c 4552524F 		.ascii	"ERROR\015\012\000"
 1206      520D0A00 
 1207              		.align	2
 1208              	.LC21:
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 30


 1209 0034 44454143 		.ascii	"DEACT\015\012\000"
 1209      540D0A00 
 1210              		.section	.text.Sim800_RxCallBack,"ax",%progbits
 1211              		.align	1
 1212              		.global	Sim800_RxCallBack
 1213              		.syntax unified
 1214              		.thumb
 1215              		.thumb_func
 1217              	Sim800_RxCallBack:
 1218              	.LFB72:
  61:Core/Src/MQTTSim800.c ****     rx_buffer[rx_index++] = rx_data;
 1219              		.loc 1 61 1 is_stmt 1 view -0
 1220              		.cfi_startproc
 1221              		@ args = 0, pretend = 0, frame = 0
 1222              		@ frame_needed = 0, uses_anonymous_args = 0
 1223 0000 10B5     		push	{r4, lr}
 1224              	.LCFI38:
 1225              		.cfi_def_cfa_offset 8
 1226              		.cfi_offset 4, -8
 1227              		.cfi_offset 14, -4
  62:Core/Src/MQTTSim800.c **** 
 1228              		.loc 1 62 5 view .LVU206
  62:Core/Src/MQTTSim800.c **** 
 1229              		.loc 1 62 23 is_stmt 0 view .LVU207
 1230 0002 4B4A     		ldr	r2, .L81
 1231 0004 1388     		ldrh	r3, [r2]
 1232 0006 5C1C     		adds	r4, r3, #1
 1233 0008 A4B2     		uxth	r4, r4
 1234 000a 1480     		strh	r4, [r2]	@ movhi
  62:Core/Src/MQTTSim800.c **** 
 1235              		.loc 1 62 27 view .LVU208
 1236 000c 494A     		ldr	r2, .L81+4
 1237 000e 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 1238 0010 494A     		ldr	r2, .L81+8
 1239 0012 D154     		strb	r1, [r2, r3]
  64:Core/Src/MQTTSim800.c ****     {
 1240              		.loc 1 64 5 is_stmt 1 view .LVU209
  64:Core/Src/MQTTSim800.c ****     {
 1241              		.loc 1 64 26 is_stmt 0 view .LVU210
 1242 0014 494B     		ldr	r3, .L81+12
 1243 0016 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
  64:Core/Src/MQTTSim800.c ****     {
 1244              		.loc 1 64 8 view .LVU211
 1245 0018 D3B9     		cbnz	r3, .L64
  66:Core/Src/MQTTSim800.c ****         {
 1246              		.loc 1 66 9 is_stmt 1 view .LVU212
  66:Core/Src/MQTTSim800.c ****         {
 1247              		.loc 1 66 13 is_stmt 0 view .LVU213
 1248 001a 4949     		ldr	r1, .L81+16
 1249 001c 1046     		mov	r0, r2
 1250 001e FFF7FEFF 		bl	strstr
 1251              	.LVL97:
  66:Core/Src/MQTTSim800.c ****         {
 1252              		.loc 1 66 12 view .LVU214
 1253 0022 0346     		mov	r3, r0
 1254 0024 08B1     		cbz	r0, .L65
  66:Core/Src/MQTTSim800.c ****         {
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 31


 1255              		.loc 1 66 55 discriminator 1 view .LVU215
 1256 0026 022C     		cmp	r4, #2
 1257 0028 2FD0     		beq	.L75
 1258              	.L65:
  70:Core/Src/MQTTSim800.c ****         {
 1259              		.loc 1 70 14 is_stmt 1 view .LVU216
  70:Core/Src/MQTTSim800.c ****         {
 1260              		.loc 1 70 17 is_stmt 0 view .LVU217
 1261 002a 002B     		cmp	r3, #0
 1262 002c 3BD0     		beq	.L66
  72:Core/Src/MQTTSim800.c ****             clearRxBuffer();
 1263              		.loc 1 72 13 is_stmt 1 view .LVU218
 1264 002e 454C     		ldr	r4, .L81+20
 1265 0030 40F2B452 		movw	r2, #1460
 1266 0034 4049     		ldr	r1, .L81+8
 1267 0036 2046     		mov	r0, r4
 1268 0038 FFF7FEFF 		bl	memcpy
 1269              	.LVL98:
  73:Core/Src/MQTTSim800.c ****             if (strstr(mqtt_buffer, "DY CONNECT\r\n"))
 1270              		.loc 1 73 13 view .LVU219
 1271 003c FFF7FEFF 		bl	clearRxBuffer
 1272              	.LVL99:
  74:Core/Src/MQTTSim800.c ****             {
 1273              		.loc 1 74 13 view .LVU220
  74:Core/Src/MQTTSim800.c ****             {
 1274              		.loc 1 74 17 is_stmt 0 view .LVU221
 1275 0040 4149     		ldr	r1, .L81+24
 1276 0042 2046     		mov	r0, r4
 1277 0044 FFF7FEFF 		bl	strstr
 1278              	.LVL100:
  74:Core/Src/MQTTSim800.c ****             {
 1279              		.loc 1 74 16 view .LVU222
 1280 0048 18B3     		cbz	r0, .L67
  76:Core/Src/MQTTSim800.c ****             }
 1281              		.loc 1 76 17 is_stmt 1 view .LVU223
  76:Core/Src/MQTTSim800.c ****             }
 1282              		.loc 1 76 43 is_stmt 0 view .LVU224
 1283 004a 3C4B     		ldr	r3, .L81+12
 1284 004c 0022     		movs	r2, #0
 1285 004e 9A74     		strb	r2, [r3, #18]
 1286              	.L64:
  89:Core/Src/MQTTSim800.c ****     {
 1287              		.loc 1 89 5 is_stmt 1 view .LVU225
  89:Core/Src/MQTTSim800.c ****     {
 1288              		.loc 1 89 9 is_stmt 0 view .LVU226
 1289 0050 3E49     		ldr	r1, .L81+28
 1290 0052 3948     		ldr	r0, .L81+8
 1291 0054 FFF7FEFF 		bl	strstr
 1292              	.LVL101:
  89:Core/Src/MQTTSim800.c ****     {
 1293              		.loc 1 89 8 view .LVU227
 1294 0058 0028     		cmp	r0, #0
 1295 005a 2FD0     		beq	.L76
 1296              	.L68:
  91:Core/Src/MQTTSim800.c ****     }
 1297              		.loc 1 91 9 is_stmt 1 view .LVU228
  91:Core/Src/MQTTSim800.c ****     }
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 32


 1298              		.loc 1 91 35 is_stmt 0 view .LVU229
 1299 005c 374B     		ldr	r3, .L81+12
 1300 005e 0022     		movs	r2, #0
 1301 0060 9A74     		strb	r2, [r3, #18]
 1302              	.L69:
  93:Core/Src/MQTTSim800.c ****     {
 1303              		.loc 1 93 5 is_stmt 1 view .LVU230
  93:Core/Src/MQTTSim800.c ****     {
 1304              		.loc 1 93 26 is_stmt 0 view .LVU231
 1305 0062 364B     		ldr	r3, .L81+12
 1306 0064 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
  93:Core/Src/MQTTSim800.c ****     {
 1307              		.loc 1 93 8 view .LVU232
 1308 0066 012B     		cmp	r3, #1
 1309 0068 35D0     		beq	.L77
 1310              	.L70:
  97:Core/Src/MQTTSim800.c ****     {
 1311              		.loc 1 97 5 is_stmt 1 view .LVU233
  97:Core/Src/MQTTSim800.c ****     {
 1312              		.loc 1 97 22 is_stmt 0 view .LVU234
 1313 006a 394B     		ldr	r3, .L81+32
 1314 006c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  97:Core/Src/MQTTSim800.c ****     {
 1315              		.loc 1 97 8 view .LVU235
 1316 006e 012B     		cmp	r3, #1
 1317 0070 39D0     		beq	.L78
 1318              	.L71:
 111:Core/Src/MQTTSim800.c ****     {
 1319              		.loc 1 111 5 is_stmt 1 view .LVU236
 111:Core/Src/MQTTSim800.c ****     {
 1320              		.loc 1 111 18 is_stmt 0 view .LVU237
 1321 0072 2F4B     		ldr	r3, .L81
 1322 0074 1A88     		ldrh	r2, [r3]
 111:Core/Src/MQTTSim800.c ****     {
 1323              		.loc 1 111 8 view .LVU238
 1324 0076 40F2B353 		movw	r3, #1459
 1325 007a 9A42     		cmp	r2, r3
 1326 007c 53D8     		bhi	.L79
 1327              	.L73:
 116:Core/Src/MQTTSim800.c **** }
 1328              		.loc 1 116 5 is_stmt 1 view .LVU239
 1329 007e 0122     		movs	r2, #1
 1330 0080 2C49     		ldr	r1, .L81+4
 1331 0082 3448     		ldr	r0, .L81+36
 1332 0084 FFF7FEFF 		bl	HAL_UART_Receive_IT
 1333              	.LVL102:
 117:Core/Src/MQTTSim800.c **** 
 1334              		.loc 1 117 1 is_stmt 0 view .LVU240
 1335 0088 10BD     		pop	{r4, pc}
 1336              	.L75:
  68:Core/Src/MQTTSim800.c ****         }
 1337              		.loc 1 68 13 is_stmt 1 view .LVU241
  68:Core/Src/MQTTSim800.c ****         }
 1338              		.loc 1 68 22 is_stmt 0 view .LVU242
 1339 008a 294B     		ldr	r3, .L81
 1340 008c 0022     		movs	r2, #0
 1341 008e 1A80     		strh	r2, [r3]	@ movhi
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 33


 1342 0090 DEE7     		b	.L64
 1343              	.L67:
  78:Core/Src/MQTTSim800.c ****             {
 1344              		.loc 1 78 18 is_stmt 1 view .LVU243
  78:Core/Src/MQTTSim800.c ****             {
 1345              		.loc 1 78 22 is_stmt 0 view .LVU244
 1346 0092 3149     		ldr	r1, .L81+40
 1347 0094 2B48     		ldr	r0, .L81+20
 1348 0096 FFF7FEFF 		bl	strstr
 1349              	.LVL103:
  78:Core/Src/MQTTSim800.c ****             {
 1350              		.loc 1 78 21 view .LVU245
 1351 009a 0028     		cmp	r0, #0
 1352 009c D8D0     		beq	.L64
  80:Core/Src/MQTTSim800.c ****             }
 1353              		.loc 1 80 17 is_stmt 1 view .LVU246
  80:Core/Src/MQTTSim800.c ****             }
 1354              		.loc 1 80 43 is_stmt 0 view .LVU247
 1355 009e 274B     		ldr	r3, .L81+12
 1356 00a0 0122     		movs	r2, #1
 1357 00a2 9A74     		strb	r2, [r3, #18]
 1358 00a4 D4E7     		b	.L64
 1359              	.L66:
  84:Core/Src/MQTTSim800.c ****         {
 1360              		.loc 1 84 14 is_stmt 1 view .LVU248
  84:Core/Src/MQTTSim800.c ****         {
 1361              		.loc 1 84 18 is_stmt 0 view .LVU249
 1362 00a6 3E21     		movs	r1, #62
 1363 00a8 2348     		ldr	r0, .L81+8
 1364 00aa FFF7FEFF 		bl	strchr
 1365              	.LVL104:
  84:Core/Src/MQTTSim800.c ****         {
 1366              		.loc 1 84 17 view .LVU250
 1367 00ae 0028     		cmp	r0, #0
 1368 00b0 CED0     		beq	.L64
  86:Core/Src/MQTTSim800.c ****         }
 1369              		.loc 1 86 13 is_stmt 1 view .LVU251
  86:Core/Src/MQTTSim800.c ****         }
 1370              		.loc 1 86 24 is_stmt 0 view .LVU252
 1371 00b2 224B     		ldr	r3, .L81+12
 1372 00b4 0122     		movs	r2, #1
 1373 00b6 83F8B820 		strb	r2, [r3, #184]
 1374 00ba C9E7     		b	.L64
 1375              	.L76:
  89:Core/Src/MQTTSim800.c ****     {
 1376              		.loc 1 89 52 discriminator 1 view .LVU253
 1377 00bc 2749     		ldr	r1, .L81+44
 1378 00be 1E48     		ldr	r0, .L81+8
 1379 00c0 FFF7FEFF 		bl	strstr
 1380              	.LVL105:
  89:Core/Src/MQTTSim800.c ****     {
 1381              		.loc 1 89 49 discriminator 1 view .LVU254
 1382 00c4 0028     		cmp	r0, #0
 1383 00c6 C9D1     		bne	.L68
  89:Core/Src/MQTTSim800.c ****     {
 1384              		.loc 1 89 94 discriminator 2 view .LVU255
 1385 00c8 2549     		ldr	r1, .L81+48
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 34


 1386 00ca 1B48     		ldr	r0, .L81+8
 1387 00cc FFF7FEFF 		bl	strstr
 1388              	.LVL106:
  89:Core/Src/MQTTSim800.c ****     {
 1389              		.loc 1 89 91 discriminator 2 view .LVU256
 1390 00d0 0028     		cmp	r0, #0
 1391 00d2 C3D1     		bne	.L68
 1392 00d4 C5E7     		b	.L69
 1393              	.L77:
  93:Core/Src/MQTTSim800.c ****     {
 1394              		.loc 1 93 51 discriminator 1 view .LVU257
 1395 00d6 174B     		ldr	r3, .L81+4
 1396 00d8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  93:Core/Src/MQTTSim800.c ****     {
 1397              		.loc 1 93 40 discriminator 1 view .LVU258
 1398 00da 302B     		cmp	r3, #48
 1399 00dc C5D1     		bne	.L70
  95:Core/Src/MQTTSim800.c ****     }
 1400              		.loc 1 95 9 is_stmt 1 view .LVU259
  95:Core/Src/MQTTSim800.c ****     }
 1401              		.loc 1 95 22 is_stmt 0 view .LVU260
 1402 00de 1C4B     		ldr	r3, .L81+32
 1403 00e0 0122     		movs	r2, #1
 1404 00e2 1A70     		strb	r2, [r3]
 1405 00e4 C1E7     		b	.L70
 1406              	.L78:
  99:Core/Src/MQTTSim800.c ****         if (mqtt_index > 1 && mqtt_index - 1 > mqtt_buffer[1])
 1407              		.loc 1 99 9 is_stmt 1 view .LVU261
  99:Core/Src/MQTTSim800.c ****         if (mqtt_index > 1 && mqtt_index - 1 > mqtt_buffer[1])
 1408              		.loc 1 99 31 is_stmt 0 view .LVU262
 1409 00e6 1F49     		ldr	r1, .L81+52
 1410 00e8 0A88     		ldrh	r2, [r1]
 1411 00ea 531C     		adds	r3, r2, #1
 1412 00ec 9BB2     		uxth	r3, r3
 1413 00ee 0B80     		strh	r3, [r1]	@ movhi
  99:Core/Src/MQTTSim800.c ****         if (mqtt_index > 1 && mqtt_index - 1 > mqtt_buffer[1])
 1414              		.loc 1 99 35 view .LVU263
 1415 00f0 1049     		ldr	r1, .L81+4
 1416 00f2 0878     		ldrb	r0, [r1]	@ zero_extendqisi2
 1417 00f4 1349     		ldr	r1, .L81+20
 1418 00f6 8854     		strb	r0, [r1, r2]
 100:Core/Src/MQTTSim800.c ****         {
 1419              		.loc 1 100 9 is_stmt 1 view .LVU264
 100:Core/Src/MQTTSim800.c ****         {
 1420              		.loc 1 100 12 is_stmt 0 view .LVU265
 1421 00f8 012B     		cmp	r3, #1
 1422 00fa 03D9     		bls	.L72
 100:Core/Src/MQTTSim800.c ****         {
 1423              		.loc 1 100 42 discriminator 1 view .LVU266
 1424 00fc 013B     		subs	r3, r3, #1
 100:Core/Src/MQTTSim800.c ****         {
 1425              		.loc 1 100 59 discriminator 1 view .LVU267
 1426 00fe 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 100:Core/Src/MQTTSim800.c ****         {
 1427              		.loc 1 100 28 discriminator 1 view .LVU268
 1428 0100 9342     		cmp	r3, r2
 1429 0102 08DC     		bgt	.L80
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 35


 1430              	.L72:
 106:Core/Src/MQTTSim800.c ****         {
 1431              		.loc 1 106 9 is_stmt 1 view .LVU269
 106:Core/Src/MQTTSim800.c ****         {
 1432              		.loc 1 106 24 is_stmt 0 view .LVU270
 1433 0104 174B     		ldr	r3, .L81+52
 1434 0106 1A88     		ldrh	r2, [r3]
 106:Core/Src/MQTTSim800.c ****         {
 1435              		.loc 1 106 12 view .LVU271
 1436 0108 40F2B353 		movw	r3, #1459
 1437 010c 9A42     		cmp	r2, r3
 1438 010e B0D9     		bls	.L71
 108:Core/Src/MQTTSim800.c ****         }
 1439              		.loc 1 108 13 is_stmt 1 view .LVU272
 1440 0110 FFF7FEFF 		bl	clearMqttBuffer
 1441              	.LVL107:
 1442 0114 ADE7     		b	.L71
 1443              	.L80:
 102:Core/Src/MQTTSim800.c ****             clearRxBuffer();
 1444              		.loc 1 102 13 view .LVU273
 1445 0116 0846     		mov	r0, r1
 1446 0118 FFF7FEFF 		bl	MQTT_Receive
 1447              	.LVL108:
 103:Core/Src/MQTTSim800.c ****             clearMqttBuffer();
 1448              		.loc 1 103 13 view .LVU274
 1449 011c FFF7FEFF 		bl	clearRxBuffer
 1450              	.LVL109:
 104:Core/Src/MQTTSim800.c ****         }
 1451              		.loc 1 104 13 view .LVU275
 1452 0120 FFF7FEFF 		bl	clearMqttBuffer
 1453              	.LVL110:
 1454 0124 EEE7     		b	.L72
 1455              	.L79:
 113:Core/Src/MQTTSim800.c ****         clearMqttBuffer();
 1456              		.loc 1 113 9 view .LVU276
 1457 0126 FFF7FEFF 		bl	clearRxBuffer
 1458              	.LVL111:
 114:Core/Src/MQTTSim800.c ****     }
 1459              		.loc 1 114 9 view .LVU277
 1460 012a FFF7FEFF 		bl	clearMqttBuffer
 1461              	.LVL112:
 1462 012e A6E7     		b	.L73
 1463              	.L82:
 1464              		.align	2
 1465              	.L81:
 1466 0130 00000000 		.word	.LANCHOR0
 1467 0134 00000000 		.word	.LANCHOR6
 1468 0138 00000000 		.word	.LANCHOR1
 1469 013c 00000000 		.word	SIM800
 1470 0140 00000000 		.word	.LC16
 1471 0144 00000000 		.word	.LANCHOR4
 1472 0148 04000000 		.word	.LC17
 1473 014c 20000000 		.word	.LC19
 1474 0150 00000000 		.word	.LANCHOR2
 1475 0154 00000000 		.word	huart2
 1476 0158 14000000 		.word	.LC18
 1477 015c 2C000000 		.word	.LC20
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 36


 1478 0160 34000000 		.word	.LC21
 1479 0164 00000000 		.word	.LANCHOR3
 1480              		.cfi_endproc
 1481              	.LFE72:
 1483              		.global	mqtt_index
 1484              		.global	mqtt_buffer
 1485              		.global	mqtt_receive
 1486              		.global	rx_index
 1487              		.global	rx_buffer
 1488              		.global	rx_data
 1489              		.section	.rodata
 1490              		.align	2
 1491              		.set	.LANCHOR5,. + 0
 1492              	.LC0:
 1493 0000 4D515443 		.ascii	"MQTC"
 1494 0004 00000000 		.word	0
 1495 0008 04       		.byte	4
 1496 0009 000000   		.space	3
 1497 000c 00000000 		.word	0
 1498 0010 00000000 		.word	0
 1499 0014 00000000 		.word	0
 1500 0018 3C00     		.short	60
 1501 001a 01       		.byte	1
 1502 001b 00       		.byte	0
 1503 001c 4D515457 		.ascii	"MQTW"
 1504 0020 00000000 		.word	0
 1505 0024 00000000 		.word	0
 1506 0028 00000000 		.word	0
 1507 002c 00000000 		.word	0
 1508 0030 00000000 		.word	0
 1509 0034 00000000 		.word	0
 1510 0038 00000000 		.word	0
 1511 003c 00       		.byte	0
 1512 003d 00       		.byte	0
 1513 003e 0000     		.space	2
 1514 0040 00000000 		.word	0
 1515 0044 00000000 		.word	0
 1516 0048 00000000 		.word	0
 1517 004c 00000000 		.word	0
 1518 0050 00000000 		.word	0
 1519 0054 00000000 		.word	0
 1520              		.section	.bss.mqtt_buffer,"aw",%nobits
 1521              		.align	2
 1522              		.set	.LANCHOR4,. + 0
 1525              	mqtt_buffer:
 1526 0000 00000000 		.space	1460
 1526      00000000 
 1526      00000000 
 1526      00000000 
 1526      00000000 
 1527              		.section	.bss.mqtt_index,"aw",%nobits
 1528              		.align	1
 1529              		.set	.LANCHOR3,. + 0
 1532              	mqtt_index:
 1533 0000 0000     		.space	2
 1534              		.section	.bss.mqtt_receive,"aw",%nobits
 1535              		.set	.LANCHOR2,. + 0
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 37


 1538              	mqtt_receive:
 1539 0000 00       		.space	1
 1540              		.section	.bss.rx_buffer,"aw",%nobits
 1541              		.align	2
 1542              		.set	.LANCHOR1,. + 0
 1545              	rx_buffer:
 1546 0000 00000000 		.space	1460
 1546      00000000 
 1546      00000000 
 1546      00000000 
 1546      00000000 
 1547              		.section	.bss.rx_data,"aw",%nobits
 1548              		.set	.LANCHOR6,. + 0
 1551              	rx_data:
 1552 0000 00       		.space	1
 1553              		.section	.bss.rx_index,"aw",%nobits
 1554              		.align	1
 1555              		.set	.LANCHOR0,. + 0
 1558              	rx_index:
 1559 0000 0000     		.space	2
 1560              		.text
 1561              	.Letext0:
 1562              		.file 2 "c:\\program files (x86)\\gcc-arm-none-eabi-10.3-2021.10-win32\\gcc-arm-none-eabi-10.3-202
 1563              		.file 3 "c:\\program files (x86)\\gcc-arm-none-eabi-10.3-2021.10-win32\\gcc-arm-none-eabi-10.3-202
 1564              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 1565              		.file 5 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 1566              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 1567              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 1568              		.file 8 "Core/Inc/MQTTSim800.h"
 1569              		.file 9 "Core/Inc/MQTTPacket.h"
 1570              		.file 10 "Core/Inc/MQTTConnect.h"
 1571              		.file 11 "Core/Inc/usart.h"
 1572              		.file 12 "<built-in>"
 1573              		.file 13 "Core/Inc/MQTTPublish.h"
 1574              		.file 14 "Core/Inc/MQTTSubscribe.h"
 1575              		.file 15 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS_V2/cmsis_os2.h"
 1576              		.file 16 "c:\\program files (x86)\\gcc-arm-none-eabi-10.3-2021.10-win32\\gcc-arm-none-eabi-10.3-20
 1577              		.file 17 "c:\\program files (x86)\\gcc-arm-none-eabi-10.3-2021.10-win32\\gcc-arm-none-eabi-10.3-20
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 38


DEFINED SYMBOLS
                            *ABS*:00000000 MQTTSim800.c
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:18     .text.clearRxBuffer:00000000 $t
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:24     .text.clearRxBuffer:00000000 clearRxBuffer
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:51     .text.clearRxBuffer:00000014 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:57     .text.clearMqttBuffer:00000000 $t
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:63     .text.clearMqttBuffer:00000000 clearMqttBuffer
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:93     .text.clearMqttBuffer:00000018 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:100    .text.SIM800_SendCommand:00000000 $t
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:106    .text.SIM800_SendCommand:00000000 SIM800_SendCommand
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:167    .text.SIM800_SendCommand:00000038 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:173    .rodata.MQTT_Connect.str1.4:00000000 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:180    .text.MQTT_Connect:00000000 $t
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:186    .text.MQTT_Connect:00000000 MQTT_Connect
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:315    .text.MQTT_Connect:0000008c $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:324    .rodata.MQTT_Init.str1.4:00000000 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:355    .text.MQTT_Init:00000000 $t
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:361    .text.MQTT_Init:00000000 MQTT_Init
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:506    .text.MQTT_Init:000000b4 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:524    .text.MQTT_Pub:00000000 $t
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:530    .text.MQTT_Pub:00000000 MQTT_Pub
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:614    .text.MQTT_Pub:00000058 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:619    .rodata.MQTT_PubUint8.str1.4:00000000 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:623    .text.MQTT_PubUint8:00000000 $t
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:629    .text.MQTT_PubUint8:00000000 MQTT_PubUint8
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:683    .text.MQTT_PubUint8:00000030 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:688    .text.MQTT_PubUint16:00000000 $t
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:694    .text.MQTT_PubUint16:00000000 MQTT_PubUint16
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:748    .text.MQTT_PubUint16:00000030 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:753    .rodata.MQTT_PubUint32.str1.4:00000000 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:757    .text.MQTT_PubUint32:00000000 $t
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:763    .text.MQTT_PubUint32:00000000 MQTT_PubUint32
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:817    .text.MQTT_PubUint32:00000030 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:823    .rodata.MQTT_PubFloat.str1.4:00000000 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:827    .text.MQTT_PubFloat:00000000 $t
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:833    .text.MQTT_PubFloat:00000000 MQTT_PubFloat
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:890    .text.MQTT_PubFloat:00000038 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:895    .text.MQTT_PubDouble:00000000 $t
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:901    .text.MQTT_PubDouble:00000000 MQTT_PubDouble
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:952    .text.MQTT_PubDouble:0000002c $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:957    .text.MQTT_PingReq:00000000 $t
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:963    .text.MQTT_PingReq:00000000 MQTT_PingReq
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1006   .text.MQTT_PingReq:00000028 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1011   .text.MQTT_Sub:00000000 $t
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1017   .text.MQTT_Sub:00000000 MQTT_Sub
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1089   .text.MQTT_Sub:00000048 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1094   .text.MQTT_Receive:00000000 $t
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1100   .text.MQTT_Receive:00000000 MQTT_Receive
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1187   .text.MQTT_Receive:0000006c $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1192   .rodata.Sim800_RxCallBack.str1.4:00000000 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1211   .text.Sim800_RxCallBack:00000000 $t
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1217   .text.Sim800_RxCallBack:00000000 Sim800_RxCallBack
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1466   .text.Sim800_RxCallBack:00000130 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1532   .bss.mqtt_index:00000000 mqtt_index
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1525   .bss.mqtt_buffer:00000000 mqtt_buffer
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1538   .bss.mqtt_receive:00000000 mqtt_receive
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1558   .bss.rx_index:00000000 rx_index
ARM GAS  C:\Users\dung\AppData\Local\Temp\ccHtep3w.s 			page 39


C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1545   .bss.rx_buffer:00000000 rx_buffer
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1551   .bss.rx_data:00000000 rx_data
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1490   .rodata:00000000 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1521   .bss.mqtt_buffer:00000000 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1528   .bss.mqtt_index:00000000 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1539   .bss.mqtt_receive:00000000 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1541   .bss.rx_buffer:00000000 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1552   .bss.rx_data:00000000 $d
C:\Users\dung\AppData\Local\Temp\ccHtep3w.s:1554   .bss.rx_index:00000000 $d

UNDEFINED SYMBOLS
memset
strlen
HAL_UART_Transmit_IT
osDelay
strstr
huart2
sprintf
memcpy
MQTTSerialize_connect
SIM800
HAL_UART_Receive_IT
snprintf
MQTTSerialize_publish
__aeabi_f2d
MQTTSerialize_pingreq
MQTTSerialize_subscribe
MQTTDeserialize_publish
strchr
